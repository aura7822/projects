function a474_0x116a(_0x442f28,_0x3cdace){const _0x52dde5=a474_0x52dd();return a474_0x116a=function(_0x116a45,_0x37eec0){_0x116a45=_0x116a45-0x1cc;let _0x1d636f=_0x52dde5[_0x116a45];return _0x1d636f;},a474_0x116a(_0x442f28,_0x3cdace);}function a474_0x52dd(){const _0x3c7b75=['xgKUq','HshDh','OaZvE','264596wSSKhD','AzUPO','wesMg','9XQMyOQ','17448pEghBP','then','Missing\x20function\x20to\x20check\x20errors','function','error','now','1248600SKrFfW','timestamp','toString','max','min','4zSNhxA','5556090WWXlhb','PPOYr','push','catch','retry','1984910aUcutR','CLUMj','reject','LYbfI','zSCnp','random','1309BluOew','message','signal','1494840oLmpga','xnThe','reason','348889pnHEoc','eVbVz','slice','abort','addEventListener','LFBCu','age','rDJZZ','resolve','finally','Result\x20is\x20not\x20a\x20promise.','lastAttempt'];a474_0x52dd=function(){return _0x3c7b75;};return a474_0x52dd();}const a474_0x322411=a474_0x116a;(function(_0x43d38b,_0x9f74f6){const _0x2508a6=a474_0x116a,_0x429838=_0x43d38b();while(!![]){try{const _0x499e92=parseInt(_0x2508a6(0x1e1))/0x1*(-parseInt(_0x2508a6(0x1cf))/0x2)+parseInt(_0x2508a6(0x1fa))/0x3+parseInt(_0x2508a6(0x1f0))/0x4+parseInt(_0x2508a6(0x1d5))/0x5+parseInt(_0x2508a6(0x1f4))/0x6*(parseInt(_0x2508a6(0x1db))/0x7)+parseInt(_0x2508a6(0x1de))/0x8*(parseInt(_0x2508a6(0x1f3))/0x9)+-parseInt(_0x2508a6(0x1d0))/0xa;if(_0x499e92===_0x9f74f6)break;else _0x429838['push'](_0x429838['shift']());}catch(_0x1b3bb7){_0x429838['push'](_0x429838['shift']());}}}(a474_0x52dd,0x570f3));const MAX_TASK_TIMEOUT=0xea60,MAX_TASK_DELAY=0x64;function isTimeToRetry(_0xbbeb46,_0x494104){const _0x37f469=a474_0x116a,_0x2efeac={'rDJZZ':function(_0x2a2769,_0x590a70){return _0x2a2769-_0x590a70;},'AzUPO':function(_0x41c939,_0x5ca6c0){return _0x41c939-_0x5ca6c0;},'CLUMj':function(_0x2eec54,_0x3b6d08){return _0x2eec54*_0x3b6d08;},'WtsVv':function(_0x24daf4,_0x394c3d){return _0x24daf4>=_0x394c3d;}},_0x509344=_0x2efeac[_0x37f469(0x1e8)](Date[_0x37f469(0x1f9)](),_0xbbeb46['lastAttempt']),_0x24c953=Math[_0x37f469(0x1cd)](_0x2efeac[_0x37f469(0x1f1)](_0xbbeb46[_0x37f469(0x1ec)],_0xbbeb46[_0x37f469(0x1fb)]),0x1),_0x16f622=Math[_0x37f469(0x1ce)](_0x2efeac[_0x37f469(0x1d6)](_0x24c953,1.2),_0x494104);return _0x2efeac['WtsVv'](_0x509344,_0x16f622);}function isTimeToBail(_0x2c32b7,_0x3c123f){const _0x2b4cb9=a474_0x116a;return _0x2c32b7[_0x2b4cb9(0x1e7)]>_0x3c123f;}class RetryTask{['id']=Math[a474_0x322411(0x1da)]()[a474_0x322411(0x1cc)](0x24)[a474_0x322411(0x1e3)](0x2);['fn'];[a474_0x322411(0x1f8)];['timestamp']=Date['now']();[a474_0x322411(0x1ec)]=this['timestamp'];[a474_0x322411(0x1e9)];[a474_0x322411(0x1d7)];[a474_0x322411(0x1dd)];constructor(_0x4cc8eb,_0x1a6b0e,_0x181f9d,_0x160cf5,_0x32234e){const _0x58a511=a474_0x322411;this['fn']=_0x4cc8eb,this['error']=_0x1a6b0e,this[_0x58a511(0x1fb)]=Date[_0x58a511(0x1f9)](),this[_0x58a511(0x1ec)]=Date['now'](),this['resolve']=_0x181f9d,this[_0x58a511(0x1d7)]=_0x160cf5,this[_0x58a511(0x1dd)]=_0x32234e;}get[a474_0x322411(0x1e7)](){const _0x40969a=a474_0x322411,_0x23c775={'uFPyF':function(_0x1744f8,_0x188a47){return _0x1744f8-_0x188a47;}};return _0x23c775['uFPyF'](Date['now'](),this[_0x40969a(0x1fb)]);}}class Retrier{#queue=[];#timeout;#maxDelay;#timerId;#check;constructor(_0x5b060b,{timeout:timeout=MAX_TASK_TIMEOUT,maxDelay:maxDelay=MAX_TASK_DELAY}={}){const _0xb8600d=a474_0x322411,_0x1f1b48={'OaZvE':function(_0x2e8961,_0x1c95e2){return _0x2e8961!==_0x1c95e2;},'PPOYr':_0xb8600d(0x1f6)};if(_0x1f1b48[_0xb8600d(0x1ef)](typeof _0x5b060b,'function'))throw new Error(_0x1f1b48[_0xb8600d(0x1d1)]);this.#check=_0x5b060b,this.#timeout=timeout,this.#maxDelay=maxDelay;}[a474_0x322411(0x1d4)](_0x4cac90,{signal:_0x2b2502}={}){const _0x4894dd=a474_0x322411,_0x19999d={'aeUsS':function(_0x1cf2b0,_0x59ef86){return _0x1cf2b0(_0x59ef86);},'wesMg':_0x4894dd(0x1e4),'eVbVz':function(_0x424547){return _0x424547();},'xnThe':_0x4894dd(0x1f7),'LFBCu':_0x4894dd(0x1eb)};_0x2b2502?.['throwIfAborted']();let _0xa2b16d;try{_0xa2b16d=_0x19999d[_0x4894dd(0x1e2)](_0x4cac90);}catch(_0x339f6d){return Promise['reject'](new Error('Synchronous\x20error:\x20'+_0x339f6d[_0x4894dd(0x1dc)],{'cause':_0x339f6d}));}if(!_0xa2b16d||typeof _0xa2b16d['then']!==_0x19999d[_0x4894dd(0x1df)])return Promise['reject'](new Error(_0x19999d[_0x4894dd(0x1e6)]));return Promise[_0x4894dd(0x1e9)](_0xa2b16d)[_0x4894dd(0x1d3)](_0x853aad=>{const _0x5848f7=_0x4894dd,_0x507676={'zSCnp':function(_0x300c70,_0x448777){return _0x19999d['aeUsS'](_0x300c70,_0x448777);},'OwOUO':_0x19999d[_0x5848f7(0x1f2)]};if(!this.#check(_0x853aad))throw _0x853aad;return new Promise((_0x17ddbf,_0xcf7c19)=>{const _0x34bd79=_0x5848f7,_0x42f5ad={'FGYFX':function(_0x3bdc53,_0x275361){const _0x2de8af=a474_0x116a;return _0x507676[_0x2de8af(0x1d9)](_0x3bdc53,_0x275361);}};this.#queue[_0x34bd79(0x1d2)](new RetryTask(_0x4cac90,_0x853aad,_0x17ddbf,_0xcf7c19,_0x2b2502)),_0x2b2502?.[_0x34bd79(0x1e5)](_0x507676['OwOUO'],()=>{const _0x10ae9c=_0x34bd79;_0x42f5ad['FGYFX'](_0xcf7c19,_0x2b2502[_0x10ae9c(0x1e0)]);}),this.#processQueue();});});}#processQueue(){const _0x1811f7=a474_0x322411,_0x45c83f={'LYbfI':function(_0x7afc2a,_0x30348a,_0x10fe23){return _0x7afc2a(_0x30348a,_0x10fe23);},'xgKUq':function(_0x2d4729,_0x53407a){return _0x2d4729(_0x53407a);},'HshDh':function(_0x186292){return _0x186292();}};_0x45c83f[_0x1811f7(0x1ed)](clearTimeout,this.#timerId),this.#timerId=undefined;const _0x4ce582=this.#queue['shift']();if(!_0x4ce582)return;const _0x1844eb=()=>{this.#timerId=_0x45c83f['LYbfI'](setTimeout,()=>this.#processQueue(),0x0);};if(_0x45c83f[_0x1811f7(0x1d8)](isTimeToBail,_0x4ce582,this.#timeout)){_0x4ce582[_0x1811f7(0x1d7)](_0x4ce582[_0x1811f7(0x1f8)]),_0x45c83f[_0x1811f7(0x1ee)](_0x1844eb);return;}if(!isTimeToRetry(_0x4ce582,this.#maxDelay)){this.#queue[_0x1811f7(0x1d2)](_0x4ce582),_0x45c83f['HshDh'](_0x1844eb);return;}_0x4ce582[_0x1811f7(0x1ec)]=Date[_0x1811f7(0x1f9)](),Promise[_0x1811f7(0x1e9)](_0x4ce582['fn']())[_0x1811f7(0x1f5)](_0x2af218=>_0x4ce582[_0x1811f7(0x1e9)](_0x2af218))[_0x1811f7(0x1d3)](_0x3f1919=>{const _0x16baf5=_0x1811f7;if(!this.#check(_0x3f1919)){_0x4ce582[_0x16baf5(0x1d7)](_0x3f1919);return;}_0x4ce582[_0x16baf5(0x1ec)]=Date[_0x16baf5(0x1f9)](),this.#queue[_0x16baf5(0x1d2)](_0x4ce582);})[_0x1811f7(0x1ea)](()=>this.#processQueue());}}export{Retrier};