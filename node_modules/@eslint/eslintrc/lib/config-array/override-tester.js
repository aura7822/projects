const a410_0x55324b=a410_0x13fe;function a410_0x2293(){const _0x635fcb=['test','12DytThs','patterns','JNQTO','xcASh','9858810bCcQaj','endsWithWildcard','62259qlryyv','48056vOoZau','includes','inspect','filter','some','pattern','AwUCl','196MuzwFn','match','string','839825TZepdz','every','42866qiULwi','xSwDO','\x27filePath\x27\x20should\x20be\x20an\x20absolute\x20path,\x20but\x20got\x20','slice','and','312tQcYfy','soIYP','isArray','isAbsolute','Invalid\x20override\x20pattern\x20(expected\x20relative\x20path\x20not\x20containing\x20\x27..\x27):\x20','26jcpwdO','concat','custom','1045645olLvnl','basePath','strictEqual','endsWith','dzCNZ','toJSON','387EQfxan','length','map','1108877bnrgFW'];a410_0x2293=function(){return _0x635fcb;};return a410_0x2293();}(function(_0x3ee506,_0x3d51cb){const _0x449d43=a410_0x13fe,_0x490573=_0x3ee506();while(!![]){try{const _0x1cdbeb=parseInt(_0x449d43(0x13c))/0x1*(parseInt(_0x449d43(0x132))/0x2)+parseInt(_0x449d43(0x150))/0x3*(-parseInt(_0x449d43(0x12d))/0x4)+parseInt(_0x449d43(0x13f))/0x5*(-parseInt(_0x449d43(0x14a))/0x6)+parseInt(_0x449d43(0x130))/0x7+-parseInt(_0x449d43(0x151))/0x8*(parseInt(_0x449d43(0x145))/0x9)+-parseInt(_0x449d43(0x14e))/0xa+parseInt(_0x449d43(0x148))/0xb*(parseInt(_0x449d43(0x137))/0xc);if(_0x1cdbeb===_0x3d51cb)break;else _0x490573['push'](_0x490573['shift']());}catch(_0x32f03c){_0x490573['push'](_0x490573['shift']());}}}(a410_0x2293,0x9717e));import a410_0x58be3e from'node:assert';import a410_0x43d8ff from'node:path';import a410_0x350d61 from'node:util';import a410_0x227bde from'minimatch';const {Minimatch}=a410_0x227bde,minimatchOpts={'dot':!![],'matchBase':!![]};function normalizePatterns(_0x48a41b){const _0x405f3b=a410_0x13fe,_0x3bcf38={'dSQwN':function(_0x34518e,_0x4bab8b){return _0x34518e===_0x4bab8b;},'ydBlv':'string'};if(Array[_0x405f3b(0x139)](_0x48a41b))return _0x48a41b[_0x405f3b(0x154)](Boolean);if(_0x3bcf38['dSQwN'](typeof _0x48a41b,_0x3bcf38['ydBlv'])&&_0x48a41b)return[_0x48a41b];return[];}function toMatcher(_0xcf741e){const _0x3b1e11=a410_0x13fe,_0x5186fa={'dzCNZ':function(_0x2fdb07,_0x1d4aa8){return _0x2fdb07===_0x1d4aa8;}};if(_0x5186fa[_0x3b1e11(0x143)](_0xcf741e[_0x3b1e11(0x146)],0x0))return null;return _0xcf741e[_0x3b1e11(0x147)](_0xacab58=>{const _0x5b16cd=_0x3b1e11;if(/^\.[/\\]/u[_0x5b16cd(0x149)](_0xacab58))return new Minimatch(_0xacab58[_0x5b16cd(0x135)](0x2),{...minimatchOpts,'matchBase':![]});return new Minimatch(_0xacab58,minimatchOpts);});}function patternToJson({includes:_0x9b4cee,excludes:_0x2500a2}){const _0x42ead6=a410_0x13fe;return{'includes':_0x9b4cee&&_0x9b4cee['map'](_0x2294ef=>_0x2294ef[_0x42ead6(0x156)]),'excludes':_0x2500a2&&_0x2500a2['map'](_0x15a388=>_0x15a388[_0x42ead6(0x156)])};}function a410_0x13fe(_0x204d0d,_0x4e4076){const _0x2293dd=a410_0x2293();return a410_0x13fe=function(_0x13fe13,_0x3d50fe){_0x13fe13=_0x13fe13-0x12d;let _0x3a6713=_0x2293dd[_0x13fe13];return _0x3a6713;},a410_0x13fe(_0x204d0d,_0x4e4076);}class OverrideTester{static['create'](_0xa9c1ba,_0x462dd2,_0x143d3e){const _0x2168d9=a410_0x13fe,_0x2ae36c={'AwUCl':function(_0x464814,_0x5552e6){return _0x464814(_0x5552e6);},'MAxnj':function(_0x256c8e,_0x4d59fd){return _0x256c8e(_0x4d59fd);},'xSwDO':function(_0x459ec1,_0x1e8935){return _0x459ec1===_0x1e8935;},'soIYP':function(_0x9a2c72,_0x1179ba){return _0x9a2c72(_0x1179ba);}},_0x1a21d8=_0x2ae36c[_0x2168d9(0x157)](normalizePatterns,_0xa9c1ba),_0x1fec8b=_0x2ae36c['MAxnj'](normalizePatterns,_0x462dd2);let _0x496f0a=![];if(_0x2ae36c[_0x2168d9(0x133)](_0x1a21d8[_0x2168d9(0x146)],0x0))return null;for(const _0x56ff89 of _0x1a21d8){if(a410_0x43d8ff[_0x2168d9(0x13a)](_0x56ff89)||_0x56ff89['includes']('..'))throw new Error(_0x2168d9(0x13b)+_0x56ff89);_0x56ff89[_0x2168d9(0x142)]('*')&&(_0x496f0a=!![]);}for(const _0xbfbd3d of _0x1fec8b){if(a410_0x43d8ff[_0x2168d9(0x13a)](_0xbfbd3d)||_0xbfbd3d[_0x2168d9(0x152)]('..'))throw new Error('Invalid\x20override\x20pattern\x20(expected\x20relative\x20path\x20not\x20containing\x20\x27..\x27):\x20'+_0xbfbd3d);}const _0x5e6217=_0x2ae36c[_0x2168d9(0x138)](toMatcher,_0x1a21d8),_0x3f6103=_0x2ae36c[_0x2168d9(0x157)](toMatcher,_0x1fec8b);return new OverrideTester([{'includes':_0x5e6217,'excludes':_0x3f6103}],_0x143d3e,_0x496f0a);}static[a410_0x55324b(0x136)](_0x65c127,_0x565b01){const _0xdac2bb=a410_0x55324b;if(!_0x565b01)return _0x65c127&&new OverrideTester(_0x65c127[_0xdac2bb(0x14b)],_0x65c127['basePath'],_0x65c127['endsWithWildcard']);if(!_0x65c127)return new OverrideTester(_0x565b01[_0xdac2bb(0x14b)],_0x565b01[_0xdac2bb(0x140)],_0x565b01[_0xdac2bb(0x14f)]);return a410_0x58be3e[_0xdac2bb(0x141)](_0x65c127[_0xdac2bb(0x140)],_0x565b01[_0xdac2bb(0x140)]),new OverrideTester(_0x65c127[_0xdac2bb(0x14b)][_0xdac2bb(0x13d)](_0x565b01[_0xdac2bb(0x14b)]),_0x65c127['basePath'],_0x65c127[_0xdac2bb(0x14f)]||_0x565b01['endsWithWildcard']);}constructor(_0x245ff6,_0x1e18e1,_0x5ca0ae=![]){const _0xb517ea=a410_0x55324b;this['patterns']=_0x245ff6,this['basePath']=_0x1e18e1,this[_0xb517ea(0x14f)]=_0x5ca0ae;}[a410_0x55324b(0x149)](_0x315c9a){const _0x164b03=a410_0x55324b,_0x382c3f={'DAAQp':function(_0x6442e0,_0x6439f3){return _0x6442e0!==_0x6439f3;},'JNQTO':_0x164b03(0x12f)};if(_0x382c3f['DAAQp'](typeof _0x315c9a,_0x382c3f[_0x164b03(0x14c)])||!a410_0x43d8ff['isAbsolute'](_0x315c9a))throw new Error(_0x164b03(0x134)+_0x315c9a+'.');const _0xd2397c=a410_0x43d8ff['relative'](this[_0x164b03(0x140)],_0x315c9a);return this[_0x164b03(0x14b)][_0x164b03(0x131)](({includes:_0x52410f,excludes:_0x2a3f04})=>(!_0x52410f||_0x52410f[_0x164b03(0x155)](_0x5b18a8=>_0x5b18a8[_0x164b03(0x12e)](_0xd2397c)))&&(!_0x2a3f04||!_0x2a3f04[_0x164b03(0x155)](_0x50d1ec=>_0x50d1ec['match'](_0xd2397c))));}['toJSON'](){const _0x52d16d=a410_0x55324b,_0x15140f={'xcASh':function(_0x18930b,_0x3ef70d){return _0x18930b(_0x3ef70d);}};if(this[_0x52d16d(0x14b)][_0x52d16d(0x146)]===0x1)return{..._0x15140f[_0x52d16d(0x14d)](patternToJson,this[_0x52d16d(0x14b)][0x0]),'basePath':this[_0x52d16d(0x140)]};return{'AND':this['patterns'][_0x52d16d(0x147)](patternToJson),'basePath':this[_0x52d16d(0x140)]};}[a410_0x350d61[a410_0x55324b(0x153)][a410_0x55324b(0x13e)]](){const _0x3ce665=a410_0x55324b;return this[_0x3ce665(0x144)]();}}export{OverrideTester};