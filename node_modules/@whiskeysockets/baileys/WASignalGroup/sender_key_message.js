const a1171_0x3d0b6f=a1171_0x2e13;(function(_0x14221a,_0x5263db){const _0x32c8c8=a1171_0x2e13,_0x272c0c=_0x14221a();while(!![]){try{const _0x3918c9=parseInt(_0x32c8c8(0xdf))/0x1*(parseInt(_0x32c8c8(0xc1))/0x2)+-parseInt(_0x32c8c8(0xc0))/0x3*(-parseInt(_0x32c8c8(0xd2))/0x4)+-parseInt(_0x32c8c8(0xc2))/0x5*(-parseInt(_0x32c8c8(0xc7))/0x6)+parseInt(_0x32c8c8(0xdc))/0x7*(parseInt(_0x32c8c8(0xcb))/0x8)+-parseInt(_0x32c8c8(0xce))/0x9*(parseInt(_0x32c8c8(0xd8))/0xa)+-parseInt(_0x32c8c8(0xc8))/0xb+parseInt(_0x32c8c8(0xe2))/0xc*(-parseInt(_0x32c8c8(0xca))/0xd);if(_0x3918c9===_0x5263db)break;else _0x272c0c['push'](_0x272c0c['shift']());}catch(_0x2f1794){_0x272c0c['push'](_0x272c0c['shift']());}}}(a1171_0x403e,0x18806));const CiphertextMessage=require(a1171_0x3d0b6f(0xbd)),curve=require(a1171_0x3d0b6f(0xda)),protobufs=require(a1171_0x3d0b6f(0xcc));class SenderKeyMessage extends CiphertextMessage{[a1171_0x3d0b6f(0xc3)]=0x40;constructor(_0x49dad4=null,_0x396625=null,_0x16031f=null,_0x51e4ef=null,_0x41e007=null){const _0x3a6594=a1171_0x3d0b6f,_0x3bf744={'XMcZB':function(_0xa2408a,_0x5142d4){return _0xa2408a-_0x5142d4;},'uBPtH':_0x3a6594(0xc6),'FVPUF':function(_0x227c96,_0x5a2a5a){return _0x227c96>>_0x5a2a5a;},'IdFIB':function(_0x4486a3,_0x38b6c8){return _0x4486a3&_0x38b6c8;},'DbZpj':function(_0x5afc65,_0x148d8b){return _0x5afc65|_0x148d8b;}};super();if(_0x41e007){const _0x8cfe85=_0x41e007[0x0],_0x522e44=_0x41e007[_0x3a6594(0xdb)](0x1,_0x3bf744[_0x3a6594(0xbe)](_0x41e007[_0x3a6594(0xbb)],this['SIGNATURE_LENGTH'])),_0x3297ae=_0x41e007['slice'](-0x1*this[_0x3a6594(0xc3)]),_0x3c5a3b=protobufs[_0x3a6594(0xdd)]['decode'](_0x522e44)[_0x3a6594(0xc9)]();_0x3c5a3b[_0x3a6594(0xe3)]=Buffer[_0x3a6594(0xcf)](_0x3c5a3b[_0x3a6594(0xe3)],_0x3bf744[_0x3a6594(0xd1)]),this[_0x3a6594(0xd0)]=_0x41e007,this[_0x3a6594(0xbf)]=_0x3bf744[_0x3a6594(0xb8)](_0x3bf744[_0x3a6594(0xba)](_0x8cfe85,0xff),0x4),this[_0x3a6594(0xb9)]=_0x3c5a3b['id'],this[_0x3a6594(0xe1)]=_0x3c5a3b[_0x3a6594(0xe1)],this['ciphertext']=_0x3c5a3b[_0x3a6594(0xe3)],this[_0x3a6594(0xd5)]=_0x3297ae;}else{const _0x771011=(_0x3bf744[_0x3a6594(0xc4)](this[_0x3a6594(0xe5)]<<0x4,this[_0x3a6594(0xe5)])&0xff)%0x100;_0x16031f=Buffer[_0x3a6594(0xcf)](_0x16031f);const _0x4570bc=protobufs[_0x3a6594(0xdd)]['encode'](protobufs['SenderKeyMessage'][_0x3a6594(0xe4)]({'id':_0x49dad4,'iteration':_0x396625,'ciphertext':_0x16031f}))[_0x3a6594(0xd3)](),_0x5b203c=this[_0x3a6594(0xc5)](_0x51e4ef,Buffer[_0x3a6594(0xbc)]([Buffer[_0x3a6594(0xcf)]([_0x771011]),_0x4570bc]));this[_0x3a6594(0xd0)]=Buffer['concat']([Buffer['from']([_0x771011]),_0x4570bc,Buffer['from'](_0x5b203c)]),this[_0x3a6594(0xbf)]=this[_0x3a6594(0xe5)],this[_0x3a6594(0xb9)]=_0x49dad4,this[_0x3a6594(0xe1)]=_0x396625,this['ciphertext']=_0x16031f,this[_0x3a6594(0xd5)]=_0x5b203c;}}['getKeyId'](){const _0x53efe3=a1171_0x3d0b6f;return this[_0x53efe3(0xb9)];}[a1171_0x3d0b6f(0xd4)](){return this['iteration'];}[a1171_0x3d0b6f(0xd6)](){const _0xbba78a=a1171_0x3d0b6f;return this[_0xbba78a(0xe3)];}[a1171_0x3d0b6f(0xd9)](_0x46878c){const _0x19b65d=a1171_0x3d0b6f,_0x3f298b={'zAIrI':function(_0xcd0c62,_0x15dc47){return _0xcd0c62*_0x15dc47;},'rwBJT':_0x19b65d(0xcd)},_0x1ecb19=this[_0x19b65d(0xd0)]['slice'](0x0,this['serialized']['length']-this[_0x19b65d(0xc3)]),_0x20f677=this[_0x19b65d(0xd0)]['slice'](_0x3f298b[_0x19b65d(0xe0)](-0x1,this['SIGNATURE_LENGTH'])),_0x4758bf=curve[_0x19b65d(0xd9)](_0x46878c,_0x1ecb19,_0x20f677);if(!_0x4758bf)throw new Error(_0x3f298b['rwBJT']);}['getSignature'](_0x575cbe,_0x142cc0){const _0x2515a9=a1171_0x3d0b6f,_0x1ef230=Buffer[_0x2515a9(0xcf)](curve[_0x2515a9(0xd7)](_0x575cbe,_0x142cc0));return _0x1ef230;}[a1171_0x3d0b6f(0xde)](){return this['serialized'];}['getType'](){return 0x4;}}module['exports']=SenderKeyMessage;function a1171_0x2e13(_0x231099,_0x5348ca){const _0x403ee3=a1171_0x403e();return a1171_0x2e13=function(_0x2e1315,_0x51cae6){_0x2e1315=_0x2e1315-0xb8;let _0x4742c3=_0x403ee3[_0x2e1315];return _0x4742c3;},a1171_0x2e13(_0x231099,_0x5348ca);}function a1171_0x403e(){const _0x3171a9=['uBPtH','14468TafYnn','finish','getIteration','signature','getCipherText','calculateSignature','27570CbEWmb','verifySignature','libsignal/src/curve','slice','1332884NvLyLu','SenderKeyMessage','serialize','5986JLTSjM','zAIrI','iteration','218892dowTff','ciphertext','create','CURRENT_VERSION','FVPUF','keyId','IdFIB','length','concat','./ciphertext_message','XMcZB','messageVersion','48NDqYbr','40fQLiEp','604835lMiNII','SIGNATURE_LENGTH','DbZpj','getSignature','base64','6Lrooow','1834481wEDEOt','toJSON','52aaZhZr','8byTDOi','./protobufs','Invalid\x20signature!','486yOiUMb','from','serialized'];a1171_0x403e=function(){return _0x3171a9;};return a1171_0x403e();}