'use strict';function a1213_0xf4ff(_0x296969,_0x5c12d8){const _0x53ee92=a1213_0x53ee();return a1213_0xf4ff=function(_0xf4ffef,_0x1da6e3){_0xf4ffef=_0xf4ffef-0x13d;let _0x5c3208=_0x53ee92[_0xf4ffef];return _0x5c3208;},a1213_0xf4ff(_0x296969,_0x5c12d8);}const a1213_0x4e733d=a1213_0xf4ff;(function(_0x2d968d,_0x2449ae){const _0x382d48=a1213_0xf4ff,_0x1e12ee=_0x2d968d();while(!![]){try{const _0x2b79a8=parseInt(_0x382d48(0x149))/0x1*(parseInt(_0x382d48(0x179))/0x2)+-parseInt(_0x382d48(0x17a))/0x3*(-parseInt(_0x382d48(0x159))/0x4)+-parseInt(_0x382d48(0x171))/0x5+-parseInt(_0x382d48(0x14b))/0x6*(parseInt(_0x382d48(0x14f))/0x7)+parseInt(_0x382d48(0x163))/0x8+parseInt(_0x382d48(0x157))/0x9*(parseInt(_0x382d48(0x14c))/0xa)+parseInt(_0x382d48(0x169))/0xb*(parseInt(_0x382d48(0x13e))/0xc);if(_0x2b79a8===_0x2449ae)break;else _0x1e12ee['push'](_0x1e12ee['shift']());}catch(_0x12bf0c){_0x1e12ee['push'](_0x1e12ee['shift']());}}}(a1213_0x53ee,0xe41d3));Object['defineProperty'](exports,a1213_0x4e733d(0x172),{'value':!![]}),exports[a1213_0x4e733d(0x14a)]=exports[a1213_0x4e733d(0x160)]=exports[a1213_0x4e733d(0x15f)]=exports['downloadHistory']=void 0x0;function a1213_0x53ee(){const _0x5280a7=['downloadAndProcessHistorySyncNotification','hPuOi','EdgRO','7514360pNpYhl','proto','messageTimestamp','./messages-media','../../WAProto','key','3900523ULVoDf','promisify','muteEndTime','pushnames','historySyncNotification','HistorySync','md-msg-hist','cIkbc','7554360meWfTl','__esModule','utmym','messages','pinned','messageStubType','BIZ_PRIVACY_MODE_TO_BSP','PUSH_NAME','277630TUKMrv','9pAqDCz','FULL','concat','12eQJPdT','participant','lastMessageRecvTimestamp','messageStubParameters','readOnly','./generics','message','HistorySyncType','INITIAL_BOOTSTRAP','progress','push','3igJQPl','getHistoryMsg','306xsgJLg','710cLaOZw','RECENT','ON_DEMAND','198737QaDCGR','pushname','downloadHistory','WAMessageStubType','util','normalizeMessageContent','../WABinary','isJidUser','143163gvhqfZ','archived','1404584PSIwUB','AxSZp','syncType','antgG','fromMe','name','processHistoryMessage'];a1213_0x53ee=function(){return _0x5280a7;};return a1213_0x53ee();}const util_1=require(a1213_0x4e733d(0x153)),zlib_1=require('zlib'),WAProto_1=require(a1213_0x4e733d(0x167)),Types_1=require('../Types'),WABinary_1=require(a1213_0x4e733d(0x155)),generics_1=require(a1213_0x4e733d(0x143)),messages_1=require('./messages'),messages_media_1=require(a1213_0x4e733d(0x166)),inflatePromise=(0x0,util_1[a1213_0x4e733d(0x16a)])(zlib_1['inflate']),downloadHistory=async(_0x12168e,_0x28f110)=>{const _0x56bb29=a1213_0x4e733d,_0x502ca8={'utmym':function(_0x7847b0,_0x425352){return _0x7847b0(_0x425352);}},_0x2f01f8=await(0x0,messages_media_1['downloadContentFromMessage'])(_0x12168e,_0x56bb29(0x16f),{'options':_0x28f110}),_0x220bf0=[];for await(const _0x10e4ad of _0x2f01f8){_0x220bf0[_0x56bb29(0x148)](_0x10e4ad);}let _0x19da6d=Buffer[_0x56bb29(0x13d)](_0x220bf0);_0x19da6d=await _0x502ca8[_0x56bb29(0x173)](inflatePromise,_0x19da6d);const _0x3b6041=WAProto_1[_0x56bb29(0x164)][_0x56bb29(0x16e)]['decode'](_0x19da6d);return _0x3b6041;};exports[a1213_0x4e733d(0x151)]=downloadHistory;const processHistoryMessage=_0x3d27fd=>{const _0x4201e5=a1213_0x4e733d,_0x5c7a8c={'EdgRO':function(_0x474d0f,_0x572c59){return _0x474d0f===_0x572c59;},'AxSZp':function(_0x26bfe1,_0x3ead68){return _0x26bfe1===_0x3ead68;},'cIkbc':function(_0x1e9256,_0x3d8499){return _0x1e9256===_0x3d8499;}};var _0x5454e4,_0x340581,_0x4ac217;const _0x35f2ec=[],_0x2e4671=[],_0x1a4049=[];switch(_0x3d27fd[_0x4201e5(0x15b)]){case WAProto_1[_0x4201e5(0x164)]['HistorySync']['HistorySyncType'][_0x4201e5(0x146)]:case WAProto_1[_0x4201e5(0x164)][_0x4201e5(0x16e)][_0x4201e5(0x145)][_0x4201e5(0x14d)]:case WAProto_1[_0x4201e5(0x164)][_0x4201e5(0x16e)][_0x4201e5(0x145)][_0x4201e5(0x17b)]:case WAProto_1[_0x4201e5(0x164)][_0x4201e5(0x16e)][_0x4201e5(0x145)][_0x4201e5(0x14e)]:for(const _0xff98d1 of _0x3d27fd['conversations']){_0x2e4671[_0x4201e5(0x148)]({'id':_0xff98d1['id'],'name':_0xff98d1[_0x4201e5(0x15e)]||undefined});const _0x4d97e4=_0xff98d1[_0x4201e5(0x174)]||[];delete _0xff98d1[_0x4201e5(0x174)],delete _0xff98d1[_0x4201e5(0x158)],delete _0xff98d1[_0x4201e5(0x16b)],delete _0xff98d1[_0x4201e5(0x175)];for(const _0x2267a4 of _0x4d97e4){const _0x33cc60=_0x2267a4[_0x4201e5(0x144)];_0x35f2ec[_0x4201e5(0x148)](_0x33cc60),!(_0x5c7a8c['EdgRO'](_0x5454e4=_0xff98d1['messages'],null)||_0x5c7a8c['EdgRO'](_0x5454e4,void 0x0)?void 0x0:_0x5454e4['length'])&&(_0xff98d1['messages']=[{'message':_0x33cc60}]),!_0x33cc60[_0x4201e5(0x168)][_0x4201e5(0x15d)]&&!_0xff98d1[_0x4201e5(0x140)]&&(_0xff98d1['lastMessageRecvTimestamp']=(0x0,generics_1['toNumber'])(_0x33cc60[_0x4201e5(0x165)])),(_0x5c7a8c[_0x4201e5(0x162)](_0x33cc60['messageStubType'],Types_1['WAMessageStubType'][_0x4201e5(0x177)])||_0x33cc60[_0x4201e5(0x176)]===Types_1[_0x4201e5(0x152)]['BIZ_PRIVACY_MODE_TO_FB'])&&(_0x5c7a8c[_0x4201e5(0x162)](_0x340581=_0x33cc60['messageStubParameters'],null)||_0x5c7a8c[_0x4201e5(0x162)](_0x340581,void 0x0)?void 0x0:_0x340581[0x0])&&_0x2e4671[_0x4201e5(0x148)]({'id':_0x33cc60[_0x4201e5(0x168)][_0x4201e5(0x13f)]||_0x33cc60[_0x4201e5(0x168)]['remoteJid'],'verifiedName':_0x5c7a8c[_0x4201e5(0x15a)](_0x4ac217=_0x33cc60[_0x4201e5(0x141)],null)||_0x5c7a8c[_0x4201e5(0x170)](_0x4ac217,void 0x0)?void 0x0:_0x4ac217[0x0]});}(0x0,WABinary_1[_0x4201e5(0x156)])(_0xff98d1['id'])&&_0xff98d1[_0x4201e5(0x142)]&&_0xff98d1[_0x4201e5(0x158)]&&delete _0xff98d1[_0x4201e5(0x142)],_0x1a4049[_0x4201e5(0x148)]({..._0xff98d1});}break;case WAProto_1['proto']['HistorySync'][_0x4201e5(0x145)][_0x4201e5(0x178)]:for(const _0x5435f7 of _0x3d27fd[_0x4201e5(0x16c)]){_0x2e4671[_0x4201e5(0x148)]({'id':_0x5435f7['id'],'notify':_0x5435f7[_0x4201e5(0x150)]});}break;}return{'chats':_0x1a4049,'contacts':_0x2e4671,'messages':_0x35f2ec,'syncType':_0x3d27fd[_0x4201e5(0x15b)],'progress':_0x3d27fd[_0x4201e5(0x147)]};};exports[a1213_0x4e733d(0x15f)]=processHistoryMessage;const downloadAndProcessHistorySyncNotification=async(_0x2d61e9,_0x14d68d)=>{const _0x2476c8=a1213_0x4e733d,_0x114dcd=await(0x0,exports['downloadHistory'])(_0x2d61e9,_0x14d68d);return(0x0,exports[_0x2476c8(0x15f)])(_0x114dcd);};exports[a1213_0x4e733d(0x160)]=downloadAndProcessHistorySyncNotification;const getHistoryMsg=_0x36434e=>{const _0x10ca92=a1213_0x4e733d,_0x3406da={'eaneu':function(_0x5b09b8,_0x218040){return _0x5b09b8===_0x218040;},'hPuOi':function(_0xc2382b,_0x28182e){return _0xc2382b===_0x28182e;},'antgG':function(_0x4486c2,_0x233003){return _0x4486c2===_0x233003;},'lxrDt':function(_0xc6328b,_0x656857){return _0xc6328b===_0x656857;}};var _0x55412b;const _0x525c99=!!_0x36434e?(0x0,messages_1[_0x10ca92(0x154)])(_0x36434e):undefined,_0x1252e5=_0x3406da['eaneu'](_0x55412b=_0x3406da[_0x10ca92(0x161)](_0x525c99,null)||_0x3406da[_0x10ca92(0x15c)](_0x525c99,void 0x0)?void 0x0:_0x525c99['protocolMessage'],null)||_0x3406da['lxrDt'](_0x55412b,void 0x0)?void 0x0:_0x55412b[_0x10ca92(0x16d)];return _0x1252e5;};exports[a1213_0x4e733d(0x14a)]=getHistoryMsg;