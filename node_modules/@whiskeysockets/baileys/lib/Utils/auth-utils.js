'use strict';const a1205_0x4d2fd2=a1205_0x425b;(function(_0x52c877,_0x22bf04){const _0x44726c=a1205_0x425b,_0x1f73d3=_0x52c877();while(!![]){try{const _0x67886e=parseInt(_0x44726c(0x179))/0x1*(-parseInt(_0x44726c(0x1aa))/0x2)+-parseInt(_0x44726c(0x17c))/0x3*(-parseInt(_0x44726c(0x1a2))/0x4)+parseInt(_0x44726c(0x19a))/0x5+-parseInt(_0x44726c(0x17e))/0x6+parseInt(_0x44726c(0x199))/0x7+parseInt(_0x44726c(0x194))/0x8+-parseInt(_0x44726c(0x176))/0x9;if(_0x67886e===_0x22bf04)break;else _0x1f73d3['push'](_0x1f73d3['shift']());}catch(_0x19746b){_0x1f73d3['push'](_0x1f73d3['shift']());}}}(a1205_0x2c0e,0xc045d));var __importDefault=this&&this['__importDefault']||function(_0x528983){const _0xb95186=a1205_0x425b;return _0x528983&&_0x528983[_0xb95186(0x19b)]?_0x528983:{'default':_0x528983};};function a1205_0x425b(_0x22f593,_0x1e0340){const _0x2c0e2c=a1205_0x2c0e();return a1205_0x425b=function(_0x425bf6,_0x5531c3){_0x425bf6=_0x425bf6-0x174;let _0x33466d=_0x2c0e2c[_0x425bf6];return _0x33466d;},a1205_0x425b(_0x22f593,_0x1e0340);}Object['defineProperty'](exports,a1205_0x4d2fd2(0x19b),{'value':!![]}),exports['initAuthCreds']=exports[a1205_0x4d2fd2(0x1b0)]=void 0x0,exports[a1205_0x4d2fd2(0x1a3)]=makeCacheableSignalKeyStore;const node_cache_1=__importDefault(require(a1205_0x4d2fd2(0x197))),crypto_1=require(a1205_0x4d2fd2(0x192)),Defaults_1=require('../Defaults'),crypto_2=require(a1205_0x4d2fd2(0x174)),generics_1=require('./generics');function makeCacheableSignalKeyStore(_0x55849f,_0x53fa88,_0x2401bb){const _0x3b1a91=a1205_0x4d2fd2,_0x5c21f1={'cvSWP':function(_0x401ade,_0x17244a,_0x17d255){return _0x401ade(_0x17244a,_0x17d255);},'YNwtJ':_0x3b1a91(0x1a5),'SUwlQ':function(_0x5827d9,_0x36148a){return _0x5827d9===_0x36148a;},'MTmoa':_0x3b1a91(0x19c),'CCaPd':function(_0x115c9f,_0x466565,_0x461901){return _0x115c9f(_0x466565,_0x461901);},'oaian':function(_0x52c961,_0x4f5982,_0x4ec202){return _0x52c961(_0x4f5982,_0x4ec202);},'YwQFY':function(_0x56126d,_0x50f6e8){return _0x56126d===_0x50f6e8;},'srAAS':'updated\x20cache','zueiV':function(_0x19f7d2,_0x2abc4c){return _0x19f7d2===_0x2abc4c;}},_0x497bf3=_0x2401bb||new node_cache_1['default']({'stdTTL':Defaults_1[_0x3b1a91(0x1a1)][_0x3b1a91(0x19e)],'useClones':![],'deleteOnExpire':!![]});function _0xccb2a5(_0x5a1ef6,_0x1fa5fd){return _0x5a1ef6+'.'+_0x1fa5fd;}return{async 'get'(_0xad3ba1,_0x49a4bf){const _0xce755=_0x3b1a91,_0x5cc6ed={},_0x93d33c=[];for(const _0x1e2dcc of _0x49a4bf){const _0xb09888=_0x497bf3[_0xce755(0x19f)](_0x5c21f1[_0xce755(0x18a)](_0xccb2a5,_0xad3ba1,_0x1e2dcc));typeof _0xb09888!==_0x5c21f1[_0xce755(0x193)]?_0x5cc6ed[_0x1e2dcc]=_0xb09888:_0x93d33c[_0xce755(0x1ae)](_0x1e2dcc);}if(_0x93d33c['length']){_0x5c21f1[_0xce755(0x1a9)](_0x53fa88,null)||_0x53fa88===void 0x0?void 0x0:_0x53fa88[_0xce755(0x190)]({'items':_0x93d33c[_0xce755(0x189)]},_0x5c21f1['MTmoa']);const _0xce173a=await _0x55849f[_0xce755(0x19f)](_0xad3ba1,_0x93d33c);for(const _0x4fb606 of _0x93d33c){const _0x12d3c5=_0xce173a[_0x4fb606];_0x12d3c5&&(_0x5cc6ed[_0x4fb606]=_0x12d3c5,_0x497bf3[_0xce755(0x19d)](_0x5c21f1[_0xce755(0x1a8)](_0xccb2a5,_0xad3ba1,_0x4fb606),_0x12d3c5));}}return _0x5cc6ed;},async 'set'(_0x2fa4ca){const _0xa5f4d9=_0x3b1a91;let _0x4cf255=0x0;for(const _0x53105b in _0x2fa4ca){for(const _0x5f326b in _0x2fa4ca[_0x53105b]){_0x497bf3[_0xa5f4d9(0x19d)](_0x5c21f1['oaian'](_0xccb2a5,_0x53105b,_0x5f326b),_0x2fa4ca[_0x53105b][_0x5f326b]),_0x4cf255+=0x1;}}_0x5c21f1[_0xa5f4d9(0x184)](_0x53fa88,null)||_0x5c21f1[_0xa5f4d9(0x184)](_0x53fa88,void 0x0)?void 0x0:_0x53fa88['trace']({'keys':_0x4cf255},_0x5c21f1[_0xa5f4d9(0x187)]),await _0x55849f[_0xa5f4d9(0x19d)](_0x2fa4ca);},async 'clear'(){const _0x180fb1=_0x3b1a91;var _0x882358;_0x497bf3[_0x180fb1(0x18b)](),await(_0x5c21f1[_0x180fb1(0x181)](_0x882358=_0x55849f[_0x180fb1(0x1a7)],null)||_0x5c21f1['YwQFY'](_0x882358,void 0x0)?void 0x0:_0x882358[_0x180fb1(0x186)](_0x55849f));}};}function a1205_0x2c0e(){const _0x2064b0=['CCaPd','SUwlQ','2BjDYfS','Curve','caching\x20in\x20transaction','no\x20mutations\x20in\x20transaction','push','generateKeyPair','addTransactionCapability','xSmZU','./crypto','SVstF','21953520kNvCNx','ONFzG','randomBytes','303378lewMAj','signedKeyPair','failed\x20to\x20commit\x20','3IkDVWy','reduce','7005180oaHiEb','committing\x20transaction','hWVCX','zueiV','warn','aiVtk','YwQFY','nIenv','call','srAAS','initAuthCreds','length','cvSWP','flushAll','PzSlU','mTAhP','assign','\x20mutations,\x20tries\x20left=','trace','base64','crypto','YNwtJ','11971584hBSoTl','committed\x20transaction','toString','@cacheable/node-cache','keys','9454746hGZRmp','2107930moAiEJ','__esModule','loading\x20from\x20store','set','SIGNAL_STORE','get','generateRegistrationId','DEFAULT_CACHE_TTLS','5716100TfThIG','makeCacheableSignalKeyStore','moAoE','undefined','ySdqC','clear'];a1205_0x2c0e=function(){return _0x2064b0;};return a1205_0x2c0e();}const addTransactionCapability=(_0x5444a6,_0x4f37db,{maxCommitRetries:_0x1cff77,delayBetweenTriesMs:_0x3cc579})=>{const _0x5a517f=a1205_0x4d2fd2,_0x103df4={'ySdqC':function(_0x14ec39,_0x5ae64e){return _0x14ec39===_0x5ae64e;},'nIenv':function(_0x117f57){return _0x117f57();},'moAoE':_0x5a517f(0x1ac),'PzSlU':'entering\x20transaction','ONFzG':function(_0x3fc43b){return _0x3fc43b();},'SVstF':_0x5a517f(0x17f),'mTAhP':_0x5a517f(0x195),'xSmZU':_0x5a517f(0x1ad),'hWVCX':function(_0x1417fc,_0x3671cd){return _0x1417fc>_0x3671cd;}};let _0x3204c5=0x0,_0x1b144a={},_0x5bb887={},_0x57ba3a=0x0;return{'get':async(_0x2a1ec2,_0xa69c43)=>{const _0x2dca05=_0x5a517f;if(_0x3ff79a()){const _0x206a84=_0x1b144a[_0x2a1ec2],_0x5326dd=_0x206a84?_0xa69c43['filter'](_0xd41801=>typeof _0x206a84[_0xd41801]===_0x2dca05(0x1a5)):_0xa69c43;if(_0x5326dd[_0x2dca05(0x189)]){_0x3204c5+=0x1;const _0x324b70=await _0x5444a6[_0x2dca05(0x19f)](_0x2a1ec2,_0x5326dd);_0x1b144a[_0x2a1ec2]||(_0x1b144a[_0x2a1ec2]={}),Object[_0x2dca05(0x18e)](_0x1b144a[_0x2a1ec2],_0x324b70);}return _0xa69c43[_0x2dca05(0x17d)]((_0x4675de,_0x2e0161)=>{const _0x3d82e7=_0x2dca05;var _0x7c29a3;const _0x57dfff=_0x103df4[_0x3d82e7(0x1a6)](_0x7c29a3=_0x1b144a[_0x2a1ec2],null)||_0x7c29a3===void 0x0?void 0x0:_0x7c29a3[_0x2e0161];return _0x57dfff&&(_0x4675de[_0x2e0161]=_0x57dfff),_0x4675de;},{});}else return _0x5444a6['get'](_0x2a1ec2,_0xa69c43);},'set':_0x2fd350=>{const _0x54d77f=_0x5a517f;if(_0x103df4[_0x54d77f(0x185)](_0x3ff79a)){_0x4f37db[_0x54d77f(0x190)]({'types':Object[_0x54d77f(0x198)](_0x2fd350)},_0x103df4[_0x54d77f(0x1a4)]);for(const _0x90bc12 in _0x2fd350){_0x1b144a[_0x90bc12]=_0x1b144a[_0x90bc12]||{},Object[_0x54d77f(0x18e)](_0x1b144a[_0x90bc12],_0x2fd350[_0x90bc12]),_0x5bb887[_0x90bc12]=_0x5bb887[_0x90bc12]||{},Object[_0x54d77f(0x18e)](_0x5bb887[_0x90bc12],_0x2fd350[_0x90bc12]);}}else return _0x5444a6['set'](_0x2fd350);},'isInTransaction':_0x3ff79a,async 'transaction'(_0x50d9e1){const _0x132c7d=_0x5a517f;let _0x4d1b20;_0x57ba3a+=0x1;_0x103df4[_0x132c7d(0x1a6)](_0x57ba3a,0x1)&&_0x4f37db['trace'](_0x103df4[_0x132c7d(0x18c)]);try{_0x4d1b20=await _0x103df4[_0x132c7d(0x177)](_0x50d9e1);if(_0x57ba3a===0x1){if(Object['keys'](_0x5bb887)[_0x132c7d(0x189)]){_0x4f37db[_0x132c7d(0x190)](_0x103df4[_0x132c7d(0x175)]);let _0x2b5178=_0x1cff77;while(_0x2b5178){_0x2b5178-=0x1;try{await _0x5444a6['set'](_0x5bb887),_0x4f37db[_0x132c7d(0x190)]({'dbQueriesInTransaction':_0x3204c5},_0x103df4[_0x132c7d(0x18d)]);break;}catch(_0x26173f){_0x4f37db[_0x132c7d(0x182)](_0x132c7d(0x17b)+Object[_0x132c7d(0x198)](_0x5bb887)[_0x132c7d(0x189)]+_0x132c7d(0x18f)+_0x2b5178),await(0x0,generics_1['delay'])(_0x3cc579);}}}else _0x4f37db[_0x132c7d(0x190)](_0x103df4[_0x132c7d(0x1b1)]);}}finally{_0x57ba3a-=0x1,_0x57ba3a===0x0&&(_0x1b144a={},_0x5bb887={},_0x3204c5=0x0);}return _0x4d1b20;}};function _0x3ff79a(){const _0x27425b=_0x5a517f;return _0x103df4[_0x27425b(0x180)](_0x57ba3a,0x0);}};exports['addTransactionCapability']=addTransactionCapability;const initAuthCreds=()=>{const _0x219c3f=a1205_0x4d2fd2,_0x35ce81={'aiVtk':_0x219c3f(0x191)},_0x2d7842=crypto_2[_0x219c3f(0x1ab)]['generateKeyPair']();return{'noiseKey':crypto_2[_0x219c3f(0x1ab)][_0x219c3f(0x1af)](),'pairingEphemeralKeyPair':crypto_2[_0x219c3f(0x1ab)]['generateKeyPair'](),'signedIdentityKey':_0x2d7842,'signedPreKey':(0x0,crypto_2[_0x219c3f(0x17a)])(_0x2d7842,0x1),'registrationId':(0x0,generics_1[_0x219c3f(0x1a0)])(),'advSecretKey':(0x0,crypto_1[_0x219c3f(0x178)])(0x20)[_0x219c3f(0x196)](_0x35ce81[_0x219c3f(0x183)]),'processedHistoryMessages':[],'nextPreKeyId':0x1,'firstUnuploadedPreKeyId':0x1,'accountSyncCounter':0x0,'accountSettings':{'unarchiveChats':![]},'registered':![],'pairingCode':undefined,'lastPropHash':undefined,'routingInfo':undefined};};exports[a1205_0x4d2fd2(0x188)]=initAuthCreds;