'use strict';const a1219_0x1c2e7d=a1219_0x44ec;(function(_0x4bce65,_0x218253){const _0x1cedf1=a1219_0x44ec,_0x1bf367=_0x4bce65();while(!![]){try{const _0x1d1987=-parseInt(_0x1cedf1(0x179))/0x1+-parseInt(_0x1cedf1(0x180))/0x2+-parseInt(_0x1cedf1(0xbd))/0x3*(parseInt(_0x1cedf1(0x191))/0x4)+parseInt(_0x1cedf1(0x175))/0x5+parseInt(_0x1cedf1(0x159))/0x6+parseInt(_0x1cedf1(0xab))/0x7+parseInt(_0x1cedf1(0x110))/0x8;if(_0x1d1987===_0x218253)break;else _0x1bf367['push'](_0x1bf367['shift']());}catch(_0x1d72f4){_0x1bf367['push'](_0x1bf367['shift']());}}}(a1219_0x4b75,0x7da4e));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x485077,_0x6e5953,_0x21ba0c,_0x50b139){const _0x35ab74=a1219_0x44ec,_0x5a24a0={'XiZXY':function(_0x209ee6,_0x4ccf64){return _0x209ee6 in _0x4ccf64;},'NbmWi':_0x35ab74(0x1e0)};if(_0x50b139===undefined)_0x50b139=_0x21ba0c;var _0x26e745=Object[_0x35ab74(0x19b)](_0x6e5953,_0x21ba0c);(!_0x26e745||(_0x5a24a0[_0x35ab74(0x17d)](_0x5a24a0[_0x35ab74(0xdd)],_0x26e745)?!_0x6e5953['__esModule']:_0x26e745['writable']||_0x26e745[_0x35ab74(0x17a)]))&&(_0x26e745={'enumerable':!![],'get':function(){return _0x6e5953[_0x21ba0c];}}),Object[_0x35ab74(0x1a0)](_0x485077,_0x50b139,_0x26e745);}:function(_0x193834,_0x3bcb2a,_0x4904dc,_0xb51f52){const _0x389caa=a1219_0x44ec,_0x36d878={'bqIZs':function(_0xbc3a2,_0x3e2b36){return _0xbc3a2===_0x3e2b36;}};if(_0x36d878[_0x389caa(0x1c1)](_0xb51f52,undefined))_0xb51f52=_0x4904dc;_0x193834[_0xb51f52]=_0x3bcb2a[_0x4904dc];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a1219_0x1c2e7d(0xd9)]?function(_0x377f0a,_0x55abfb){const _0x5e4edc=a1219_0x1c2e7d;Object[_0x5e4edc(0x1a0)](_0x377f0a,_0x5e4edc(0xd0),{'enumerable':!![],'value':_0x55abfb});}:function(_0x5b7910,_0x322b2a){const _0x3b3bfc=a1219_0x1c2e7d,_0x547129={'tRuNB':_0x3b3bfc(0xd0)};_0x5b7910[_0x547129[_0x3b3bfc(0xff)]]=_0x322b2a;}),__importStar=this&&this[a1219_0x1c2e7d(0x123)]||(function(){const _0x573a9f=a1219_0x1c2e7d,_0x21ca98={'pPjkB':function(_0x167732,_0x37fd50){return _0x167732(_0x37fd50);},'Nmkug':function(_0x642b97,_0x59357e){return _0x642b97!=_0x59357e;},'ngHxK':function(_0x85560,_0x804af2){return _0x85560(_0x804af2);},'aiwNI':function(_0x530ab3,_0x270baf){return _0x530ab3<_0x270baf;},'XlzYO':function(_0x42695b,_0x169468){return _0x42695b!==_0x169468;},'vMPMt':_0x573a9f(0xd0),'sbSrS':function(_0xd09c70,_0x136747,_0x5916c2,_0x345d32){return _0xd09c70(_0x136747,_0x5916c2,_0x345d32);},'llQQy':function(_0x3217c7,_0x3dcd81,_0x57a664){return _0x3217c7(_0x3dcd81,_0x57a664);}};var _0x3ce23f=function(_0x45be6e){const _0x344c0f=_0x573a9f;return _0x3ce23f=Object[_0x344c0f(0x1a4)]||function(_0xc70ad2){const _0x6fe81=_0x344c0f;var _0x3bd1bc=[];for(var _0x535747 in _0xc70ad2)if(Object[_0x6fe81(0xb2)][_0x6fe81(0x131)]['call'](_0xc70ad2,_0x535747))_0x3bd1bc[_0x3bd1bc[_0x6fe81(0x1ab)]]=_0x535747;return _0x3bd1bc;},_0x21ca98[_0x344c0f(0x171)](_0x3ce23f,_0x45be6e);};return function(_0x4d21b2){const _0xe3b0cf=_0x573a9f;if(_0x4d21b2&&_0x4d21b2[_0xe3b0cf(0x1be)])return _0x4d21b2;var _0x8f74a2={};if(_0x21ca98[_0xe3b0cf(0x147)](_0x4d21b2,null)){for(var _0x28a20d=_0x21ca98['ngHxK'](_0x3ce23f,_0x4d21b2),_0x7cf27a=0x0;_0x21ca98['aiwNI'](_0x7cf27a,_0x28a20d[_0xe3b0cf(0x1ab)]);_0x7cf27a++)if(_0x21ca98[_0xe3b0cf(0xaf)](_0x28a20d[_0x7cf27a],_0x21ca98['vMPMt']))_0x21ca98[_0xe3b0cf(0x14a)](__createBinding,_0x8f74a2,_0x4d21b2,_0x28a20d[_0x7cf27a]);}return _0x21ca98[_0xe3b0cf(0x1d4)](__setModuleDefault,_0x8f74a2,_0x4d21b2),_0x8f74a2;};}()),__importDefault=this&&this[a1219_0x1c2e7d(0xb7)]||function(_0x4d2f72){return _0x4d2f72&&_0x4d2f72['__esModule']?_0x4d2f72:{'default':_0x4d2f72};};Object[a1219_0x1c2e7d(0x1a0)](exports,a1219_0x1c2e7d(0x1be),{'value':!![]}),exports[a1219_0x1c2e7d(0x1cd)]=exports[a1219_0x1c2e7d(0xc7)]=exports[a1219_0x1c2e7d(0x1df)]=exports[a1219_0x1c2e7d(0x1bb)]=exports[a1219_0x1c2e7d(0x136)]=exports[a1219_0x1c2e7d(0x1ca)]=exports[a1219_0x1c2e7d(0x1af)]=exports['getUrlFromDirectPath']=exports[a1219_0x1c2e7d(0x155)]=exports[a1219_0x1c2e7d(0x1b0)]=exports['getStream']=exports[a1219_0x1c2e7d(0xb9)]=exports[a1219_0x1c2e7d(0x176)]=exports[a1219_0x1c2e7d(0x186)]=exports[a1219_0x1c2e7d(0x178)]=exports['encodeBase64EncodedStringForUpload']=exports[a1219_0x1c2e7d(0x1c9)]=exports[a1219_0x1c2e7d(0x152)]=void 0x0,exports[a1219_0x1c2e7d(0x100)]=getMediaKeys,exports[a1219_0x1c2e7d(0x1b9)]=getAudioDuration,exports[a1219_0x1c2e7d(0x1d2)]=getAudioWaveform,exports[a1219_0x1c2e7d(0x1b4)]=generateThumbnail,exports['extensionForMediaMessage']=extensionForMediaMessage;const boom_1=require(a1219_0x1c2e7d(0x13d)),axios_1=__importDefault(require('axios')),child_process_1=require(a1219_0x1c2e7d(0x115)),Crypto=__importStar(require(a1219_0x1c2e7d(0x13b))),events_1=require(a1219_0x1c2e7d(0x184)),fs_1=require('fs'),os_1=require('os'),path_1=require(a1219_0x1c2e7d(0x106)),stream_1=require('stream'),WAProto_1=require('../../WAProto'),Defaults_1=require(a1219_0x1c2e7d(0xf9)),WABinary_1=require(a1219_0x1c2e7d(0x138)),crypto_1=require(a1219_0x1c2e7d(0xf7)),generics_1=require(a1219_0x1c2e7d(0x1c4)),getTmpFilesDirectory=()=>(0x0,os_1[a1219_0x1c2e7d(0xb5)])(),getImageProcessingLibrary=async()=>{const _0x538be2=a1219_0x1c2e7d,_0x27b098={'bVcko':function(_0x370442,_0xa5a2af){return _0x370442===_0xa5a2af;},'JycJG':'No\x20image\x20processing\x20library\x20available'},[_0x4a7d58,_0x450d29]=await Promise[_0x538be2(0xe5)]([((async()=>{const _0x22aaac=_0x538be2,_0x38d960=await Promise['resolve']()['then'](()=>__importStar(require(_0x22aaac(0x103))))[_0x22aaac(0xbe)](()=>{});return _0x38d960;})()),((async()=>{const _0x4641ec=_0x538be2,_0x50ce91=await Promise[_0x4641ec(0xb3)]()['then'](()=>__importStar(require('sharp')))[_0x4641ec(0xbe)](()=>{});return _0x50ce91;})())]);if(_0x450d29)return{'sharp':_0x450d29};const _0x4c13df=(_0x4a7d58===null||_0x27b098['bVcko'](_0x4a7d58,void 0x0)?void 0x0:_0x4a7d58[_0x538be2(0xd0)])||_0x4a7d58;if(_0x4c13df)return{'jimp':_0x4c13df};throw new boom_1[(_0x538be2(0x1d0))](_0x27b098[_0x538be2(0xf5)]);},hkdfInfoKey=_0x16f2d6=>{const _0x119ed3=a1219_0x1c2e7d,_0x270ff2=Defaults_1[_0x119ed3(0x130)][_0x16f2d6];return'WhatsApp\x20'+_0x270ff2+'\x20Keys';};exports[a1219_0x1c2e7d(0x152)]=hkdfInfoKey;async function getMediaKeys(_0x92f55d,_0x56cbb7){const _0x41662f=a1219_0x1c2e7d,_0x1f677b={'HfrzR':function(_0x27422b,_0x9ad6ac){return _0x27422b===_0x9ad6ac;},'MnnVB':_0x41662f(0x122),'WTMYQ':_0x41662f(0x116)};if(!_0x92f55d)throw new boom_1['Boom']('Cannot\x20derive\x20from\x20empty\x20media\x20key');_0x1f677b[_0x41662f(0xbb)](typeof _0x92f55d,_0x1f677b[_0x41662f(0x1e1)])&&(_0x92f55d=Buffer[_0x41662f(0x156)](_0x92f55d['replace'](_0x41662f(0x1de),''),_0x1f677b[_0x41662f(0xfb)]));const _0x377e21=await(0x0,crypto_1[_0x41662f(0xfa)])(_0x92f55d,0x70,{'info':(0x0,exports[_0x41662f(0x152)])(_0x56cbb7)});return{'iv':_0x377e21[_0x41662f(0xd1)](0x0,0x10),'cipherKey':_0x377e21[_0x41662f(0xd1)](0x10,0x30),'macKey':_0x377e21[_0x41662f(0xd1)](0x30,0x50)};}const extractVideoThumb=async(_0x579027,_0x4e2b96,_0x43fd43,_0x2345bd)=>new Promise((_0x432bde,_0x322d1f)=>{const _0x2f42f5=a1219_0x1c2e7d,_0x376914={'PUSZR':function(_0x5b6e28,_0x1c4646){return _0x5b6e28(_0x1c4646);}},_0x19aeeb=_0x2f42f5(0x14b)+_0x43fd43+_0x2f42f5(0xe7)+_0x579027+_0x2f42f5(0xf1)+_0x2345bd[_0x2f42f5(0xd2)]+_0x2f42f5(0xc8)+_0x4e2b96;(0x0,child_process_1['exec'])(_0x19aeeb,_0x14d0fc=>{const _0x340eba=_0x2f42f5;_0x14d0fc?_0x376914[_0x340eba(0x12d)](_0x322d1f,_0x14d0fc):_0x432bde();});}),extractImageThumb=async(_0x1efe58,_0x19205a=0x20)=>{const _0x77e409=a1219_0x1c2e7d,_0x162220={'TsQgN':function(_0x42e3f1,_0x22f451){return _0x42e3f1 instanceof _0x22f451;},'EEBhr':function(_0x2f51cc,_0x39e1ea){return _0x2f51cc in _0x39e1ea;},'GBYEZ':function(_0xa6e414,_0x47e4fb){return _0xa6e414===_0x47e4fb;},'hKXtp':function(_0x12c4c9,_0x55eb89){return _0x12c4c9===_0x55eb89;},'nvxGB':'function','jIBkF':_0x77e409(0x103),'Ytbgv':function(_0x382b22,_0x3022dd){return _0x382b22===_0x3022dd;},'xSMil':function(_0xabf4c0,_0x16ab0e){return _0xabf4c0===_0x16ab0e;},'muJCM':_0x77e409(0xf3)};var _0x1af2f4,_0x5a5e4d;_0x162220['TsQgN'](_0x1efe58,stream_1[_0x77e409(0x1cc)])&&(_0x1efe58=await(0x0,exports[_0x77e409(0xb9)])(_0x1efe58));const _0xaf957d=await getImageProcessingLibrary();if(_0x162220[_0x77e409(0x189)]('sharp',_0xaf957d)&&_0x162220[_0x77e409(0x10f)](typeof(_0x162220[_0x77e409(0x17f)](_0x1af2f4=_0xaf957d[_0x77e409(0x149)],null)||_0x1af2f4===void 0x0?void 0x0:_0x1af2f4[_0x77e409(0xd0)]),_0x162220[_0x77e409(0x11e)])){const _0x19f304=_0xaf957d[_0x77e409(0x149)][_0x77e409(0xd0)](_0x1efe58),_0x10d6d4=await _0x19f304[_0x77e409(0x1d6)](),_0x455408=await _0x19f304[_0x77e409(0x128)](_0x19205a)[_0x77e409(0xe0)]({'quality':0x32})[_0x77e409(0xb9)]();return{'buffer':_0x455408,'original':{'width':_0x10d6d4[_0x77e409(0xd2)],'height':_0x10d6d4[_0x77e409(0x14e)]}};}else{if(_0x162220[_0x77e409(0x189)](_0x162220['jIBkF'],_0xaf957d)&&typeof(_0x162220[_0x77e409(0x1b8)](_0x5a5e4d=_0xaf957d[_0x77e409(0x103)],null)||_0x162220[_0x77e409(0x193)](_0x5a5e4d,void 0x0)?void 0x0:_0x5a5e4d[_0x77e409(0xad)])===_0x77e409(0xea)){const {read:_0x2975ed,MIME_JPEG:_0x1eef93,RESIZE_BILINEAR:_0x27e448,AUTO:_0x298bf2}=_0xaf957d[_0x77e409(0x103)],_0x393b7f=await _0x2975ed(_0x1efe58),_0x12803e={'width':_0x393b7f[_0x77e409(0x1b3)](),'height':_0x393b7f[_0x77e409(0xdb)]()},_0x11f16e=await _0x393b7f['quality'](0x32)[_0x77e409(0x128)](_0x19205a,_0x298bf2,_0x27e448)[_0x77e409(0x15b)](_0x1eef93);return{'buffer':_0x11f16e,'original':_0x12803e};}else throw new boom_1[(_0x77e409(0x1d0))](_0x162220[_0x77e409(0x119)]);}};exports[a1219_0x1c2e7d(0x1c9)]=extractImageThumb;const encodeBase64EncodedStringForUpload=_0x5f06c9=>encodeURIComponent(_0x5f06c9[a1219_0x1c2e7d(0xda)](/\+/g,'-')[a1219_0x1c2e7d(0xda)](/\//g,'_')['replace'](/\=+$/,''));exports[a1219_0x1c2e7d(0x13c)]=encodeBase64EncodedStringForUpload;const generateProfilePicture=async _0x3baafc=>{const _0x29c71d=a1219_0x1c2e7d,_0x19bf24={'pdxCh':function(_0x46df39,_0x28c912){return _0x46df39 in _0x28c912;},'sRJxi':_0x29c71d(0xc1),'oJiHc':function(_0x5fd46c){return _0x5fd46c();},'MxvLe':_0x29c71d(0x149),'iGrOA':function(_0x263ebb,_0x26b4ee){return _0x263ebb===_0x26b4ee;},'kxoZI':function(_0x2bd292,_0x105cf1){return _0x2bd292===_0x105cf1;},'cXhvQ':_0x29c71d(0xea),'qILiY':function(_0x23805c,_0x564cfa){return _0x23805c in _0x564cfa;},'cWIWs':_0x29c71d(0x103)};var _0xc9cbf8,_0x47aad4;let _0x2e138a;if(Buffer[_0x29c71d(0x150)](_0x3baafc))_0x2e138a=_0x3baafc;else _0x19bf24[_0x29c71d(0x182)](_0x19bf24[_0x29c71d(0xb8)],_0x3baafc)?_0x2e138a=_0x3baafc[_0x29c71d(0xc1)][_0x29c71d(0x1ac)]():_0x2e138a=await(0x0,exports['toBuffer'])(_0x3baafc[_0x29c71d(0xc3)]);const _0xc88d11=await _0x19bf24[_0x29c71d(0xe1)](getImageProcessingLibrary);let _0x4b91b0;if(_0x19bf24[_0x29c71d(0x182)](_0x19bf24[_0x29c71d(0x1cf)],_0xc88d11)&&_0x19bf24[_0x29c71d(0xf0)](typeof(_0x19bf24[_0x29c71d(0xf0)](_0xc9cbf8=_0xc88d11[_0x29c71d(0x149)],null)||_0x19bf24[_0x29c71d(0x148)](_0xc9cbf8,void 0x0)?void 0x0:_0xc9cbf8[_0x29c71d(0xd0)]),_0x19bf24[_0x29c71d(0x190)]))_0x4b91b0=_0xc88d11[_0x29c71d(0x149)]['default'](_0x2e138a)[_0x29c71d(0x128)](0x280,0x280)[_0x29c71d(0xe0)]({'quality':0x32})['toBuffer']();else{if(_0x19bf24[_0x29c71d(0xf2)](_0x19bf24[_0x29c71d(0xb6)],_0xc88d11)&&_0x19bf24['iGrOA'](typeof((_0x47aad4=_0xc88d11['jimp'])===null||_0x19bf24['kxoZI'](_0x47aad4,void 0x0)?void 0x0:_0x47aad4[_0x29c71d(0xad)]),_0x19bf24[_0x29c71d(0x190)])){const {read:_0x3dd9a8,MIME_JPEG:_0xc2f2c1,RESIZE_BILINEAR:_0x369554}=_0xc88d11[_0x29c71d(0x103)],_0x269ecc=await _0x3dd9a8(_0x2e138a),_0x3681a7=Math['min'](_0x269ecc['getWidth'](),_0x269ecc[_0x29c71d(0xdb)]()),_0x392c27=_0x269ecc['crop'](0x0,0x0,_0x3681a7,_0x3681a7);_0x4b91b0=_0x392c27[_0x29c71d(0x1b6)](0x32)[_0x29c71d(0x128)](0x280,0x280,_0x369554)[_0x29c71d(0x15b)](_0xc2f2c1);}else throw new boom_1[(_0x29c71d(0x1d0))](_0x29c71d(0xf3));}return{'img':await _0x4b91b0};};exports['generateProfilePicture']=generateProfilePicture;const mediaMessageSHA256B64=_0x2e5929=>{const _0x31fda6=a1219_0x1c2e7d,_0x499dba={'tLffp':function(_0x442dcd,_0x31f0f4){return _0x442dcd===_0x31f0f4;}},_0x5e62ba=Object['values'](_0x2e5929)[0x0];return(_0x5e62ba===null||_0x499dba[_0x31fda6(0xb0)](_0x5e62ba,void 0x0)?void 0x0:_0x5e62ba[_0x31fda6(0x153)])&&Buffer['from'](_0x5e62ba['fileSha256'])[_0x31fda6(0x1ac)]('base64');};exports[a1219_0x1c2e7d(0x186)]=mediaMessageSHA256B64;async function getAudioDuration(_0x2ee2f2){const _0x419c8a=a1219_0x1c2e7d,_0x3202f0={'MtZFE':function(_0x48163e,_0x5d13b5){return _0x48163e===_0x5d13b5;},'IyCtg':'string'},_0x216425=await Promise['resolve']()[_0x419c8a(0xb4)](()=>__importStar(require('music-metadata')));let _0x52385b;if(Buffer[_0x419c8a(0x150)](_0x2ee2f2))_0x52385b=await _0x216425['parseBuffer'](_0x2ee2f2,undefined,{'duration':!![]});else{if(_0x3202f0['MtZFE'](typeof _0x2ee2f2,_0x3202f0[_0x419c8a(0x1a8)])){const _0xf4c0cc=(0x0,fs_1[_0x419c8a(0xbc)])(_0x2ee2f2);try{_0x52385b=await _0x216425[_0x419c8a(0x10c)](_0xf4c0cc,undefined,{'duration':!![]});}finally{_0xf4c0cc[_0x419c8a(0x192)]();}}else _0x52385b=await _0x216425[_0x419c8a(0x10c)](_0x2ee2f2,undefined,{'duration':!![]});}return _0x52385b['format'][_0x419c8a(0x109)];}async function getAudioWaveform(_0x34c2c9,_0x290bf7){const _0x4cc622=a1219_0x1c2e7d,_0x35a2c0={'ijINa':_0x4cc622(0x169),'woGVd':function(_0x40e2ff,_0x3772cf){return _0x40e2ff===_0x3772cf;},'PBHTD':'string','sdNLr':function(_0x5aac82,_0x1a9ef2){return _0x5aac82(_0x1a9ef2);},'GkeZU':function(_0x1a96ae,_0x34162e){return _0x1a96ae<_0x34162e;},'HAgRT':function(_0x274724,_0x280f85){return _0x274724*_0x280f85;},'BPUYR':function(_0x1364ff,_0x175d8d){return _0x1364ff+_0x175d8d;},'yWusJ':function(_0x4ae5d0,_0x27885e){return _0x4ae5d0+_0x27885e;},'gTvyl':function(_0x44da89,_0x2edf89){return _0x44da89/_0x2edf89;},'FkdWs':function(_0x1cfcf1,_0x49d932){return _0x1cfcf1===_0x49d932;},'VnSQY':function(_0xaeaaa3,_0x33760f){return _0xaeaaa3+_0x33760f;},'MJAbl':_0x4cc622(0x170)};try{const {default:_0x356192}=await eval('const _0x2a5371 = _0x4cc622;import(_0x35a2c0[_0x2a5371(226)]);');let _0x655402;if(Buffer['isBuffer'](_0x34c2c9))_0x655402=_0x34c2c9;else{if(_0x35a2c0[_0x4cc622(0x1d9)](typeof _0x34c2c9,_0x35a2c0[_0x4cc622(0x108)])){const _0x152316=(0x0,fs_1['createReadStream'])(_0x34c2c9);_0x655402=await(0x0,exports[_0x4cc622(0xb9)])(_0x152316);}else _0x655402=await(0x0,exports[_0x4cc622(0xb9)])(_0x34c2c9);}const _0x44bc7b=await _0x35a2c0[_0x4cc622(0x1c8)](_0x356192,_0x655402),_0x5ede4b=_0x44bc7b['getChannelData'](0x0),_0xf49c82=0x40,_0x42c312=Math[_0x4cc622(0x112)](_0x5ede4b['length']/_0xf49c82),_0x5ec6cc=[];for(let _0x348fce=0x0;_0x35a2c0[_0x4cc622(0x1a2)](_0x348fce,_0xf49c82);_0x348fce++){const _0x303f0d=_0x35a2c0[_0x4cc622(0x12e)](_0x42c312,_0x348fce);let _0x191df8=0x0;for(let _0x3e6dc2=0x0;_0x35a2c0[_0x4cc622(0x1a2)](_0x3e6dc2,_0x42c312);_0x3e6dc2++){_0x191df8=_0x35a2c0[_0x4cc622(0x1bd)](_0x191df8,Math[_0x4cc622(0x183)](_0x5ede4b[_0x35a2c0[_0x4cc622(0x160)](_0x303f0d,_0x3e6dc2)]));}_0x5ec6cc[_0x4cc622(0x195)](_0x35a2c0[_0x4cc622(0x174)](_0x191df8,_0x42c312));}const _0x30ec30=Math[_0x4cc622(0x1b7)](Math['max'](..._0x5ec6cc),-0x1),_0x5577b9=_0x5ec6cc[_0x4cc622(0xcf)](_0x23ae0a=>_0x23ae0a*_0x30ec30),_0x49b916=new Uint8Array(_0x5577b9['map'](_0x46da27=>Math['floor'](0x64*_0x46da27)));return _0x49b916;}catch(_0x44ea7a){_0x35a2c0[_0x4cc622(0x1a5)](_0x290bf7,null)||_0x35a2c0['woGVd'](_0x290bf7,void 0x0)?void 0x0:_0x290bf7['debug'](_0x35a2c0[_0x4cc622(0xcc)](_0x35a2c0['MJAbl'],_0x44ea7a));}}const toReadable=_0x5a654f=>{const _0x314b46=a1219_0x1c2e7d,_0x181c9a=new stream_1[(_0x314b46(0x1cc))]({'read':()=>{}});return _0x181c9a[_0x314b46(0x195)](_0x5a654f),_0x181c9a[_0x314b46(0x195)](null),_0x181c9a;};exports[a1219_0x1c2e7d(0x176)]=toReadable;const toBuffer=async _0x51c6d5=>{const _0x10886b=a1219_0x1c2e7d,_0x382a52=[];for await(const _0x345b57 of _0x51c6d5){_0x382a52[_0x10886b(0x195)](_0x345b57);}return _0x51c6d5[_0x10886b(0x192)](),Buffer[_0x10886b(0x1a3)](_0x382a52);};exports[a1219_0x1c2e7d(0xb9)]=toBuffer;const getStream=async(_0x497ac0,_0x476928)=>{const _0x585cdc=a1219_0x1c2e7d,_0x49201c={'uBoGS':_0x585cdc(0x1c7),'oLyYa':'stream','TfMzq':'readable','kfVcc':_0x585cdc(0xfc),'GqOPa':'https://','svddZ':_0x585cdc(0x19c),'QzBip':_0x585cdc(0x1d5)};if(Buffer[_0x585cdc(0x150)](_0x497ac0))return{'stream':(0x0,exports['toReadable'])(_0x497ac0),'type':_0x49201c['uBoGS']};if(_0x49201c['oLyYa']in _0x497ac0)return{'stream':_0x497ac0[_0x585cdc(0xc3)],'type':_0x49201c[_0x585cdc(0x107)]};if(_0x497ac0[_0x585cdc(0xc1)]['toString']()[_0x585cdc(0xef)](_0x49201c[_0x585cdc(0x101)])||_0x497ac0[_0x585cdc(0xc1)]['toString']()[_0x585cdc(0xef)](_0x49201c[_0x585cdc(0x124)]))return{'stream':await(0x0,exports[_0x585cdc(0x1b0)])(_0x497ac0[_0x585cdc(0xc1)],_0x476928),'type':_0x49201c[_0x585cdc(0x16a)]};return{'stream':(0x0,fs_1[_0x585cdc(0xbc)])(_0x497ac0[_0x585cdc(0xc1)]),'type':_0x49201c['QzBip']};};exports[a1219_0x1c2e7d(0x168)]=getStream;async function generateThumbnail(_0x319abc,_0x6e8712,_0x5200a7){const _0x460793=a1219_0x1c2e7d,_0x5ec62b={'yNaYi':_0x460793(0x116),'zJZYz':_0x460793(0xd4),'eNCvh':function(_0x4fb525){return _0x4fb525();},'ryhcJ':function(_0x2e5df2,_0x55d052){return _0x2e5df2+_0x55d052;},'jtpMJ':_0x460793(0xba),'xpMOR':'00:00:00','ZQLlz':function(_0x5c7e8d,_0x1c8fa3){return _0x5c7e8d===_0x1c8fa3;},'XUxkt':function(_0x49c299,_0x598181){return _0x49c299+_0x598181;},'mIAoe':_0x460793(0xc5)};var _0x2fefc8;let _0x39d3f4,_0x5860c5;if(_0x6e8712===_0x460793(0xd8)){const {buffer:_0x1dc776,original:_0x1a471a}=await(0x0,exports[_0x460793(0x1c9)])(_0x319abc);_0x39d3f4=_0x1dc776[_0x460793(0x1ac)](_0x5ec62b[_0x460793(0x12a)]),_0x1a471a[_0x460793(0xd2)]&&_0x1a471a[_0x460793(0x14e)]&&(_0x5860c5={'width':_0x1a471a[_0x460793(0xd2)],'height':_0x1a471a[_0x460793(0x14e)]});}else{if(_0x6e8712===_0x5ec62b[_0x460793(0xa8)]){const _0x303bef=(0x0,path_1['join'])(_0x5ec62b[_0x460793(0x1d8)](getTmpFilesDirectory),_0x5ec62b['ryhcJ']((0x0,generics_1['generateMessageIDV2'])(),_0x5ec62b['jtpMJ']));try{await extractVideoThumb(_0x319abc,_0x303bef,_0x5ec62b[_0x460793(0xde)],{'width':0x20,'height':0x20});const _0x5af8ce=await fs_1[_0x460793(0xcb)][_0x460793(0x125)](_0x303bef);_0x39d3f4=_0x5af8ce[_0x460793(0x1ac)](_0x5ec62b[_0x460793(0x12a)]),await fs_1[_0x460793(0xcb)][_0x460793(0x146)](_0x303bef);}catch(_0x40ea9f){(_0x2fefc8=_0x5200a7[_0x460793(0x177)])===null||_0x5ec62b[_0x460793(0x10d)](_0x2fefc8,void 0x0)?void 0x0:_0x2fefc8[_0x460793(0x18b)](_0x5ec62b[_0x460793(0x13f)](_0x5ec62b[_0x460793(0xc6)],_0x40ea9f));}}}return{'thumbnail':_0x39d3f4,'originalImageDimensions':_0x5860c5};}const getHttpStream=async(_0x4b6d4a,_0x1679cc={})=>{const _0x565e56=a1219_0x1c2e7d,_0x9f50f1={'CAcHf':_0x565e56(0xc3)},_0x43757f=await axios_1[_0x565e56(0xd0)]['get'](_0x4b6d4a[_0x565e56(0x1ac)](),{..._0x1679cc,'responseType':_0x9f50f1[_0x565e56(0x142)]});return _0x43757f[_0x565e56(0x145)];};exports[a1219_0x1c2e7d(0x1b0)]=getHttpStream;const encryptedStream=async(_0xf1fa26,_0x4986d7,{logger:_0x262303,saveOriginalFileIfRequired:_0x35e51c,opts:_0x336c02}={})=>{const _0x33f4b8=a1219_0x1c2e7d,_0x4980e3={'ymWEP':function(_0x3e478c,_0xc16268){return _0x3e478c===_0xc16268;},'imJEG':_0x33f4b8(0x1ba),'Loctc':function(_0x541c6d,_0x394840,_0x4cd657){return _0x541c6d(_0x394840,_0x4cd657);},'PjgtJ':function(_0x2766f1){return _0x2766f1();},'maXKH':function(_0x231d42,_0x4e788c){return _0x231d42+_0x4e788c;},'vRUlh':function(_0x274e41,_0x7d5c86){return _0x274e41+_0x7d5c86;},'aGjen':_0x33f4b8(0x158),'AskkB':function(_0x35f8a6){return _0x35f8a6();},'QViQO':function(_0x335698,_0x41bd91){return _0x335698+_0x41bd91;},'medFN':_0x33f4b8(0x172),'cVWmq':'sha256','anUCp':_0x33f4b8(0x154),'wZbLq':function(_0x342581,_0x184553){return _0x342581(_0x184553);},'FBqrw':_0x33f4b8(0x19c),'etgGl':function(_0xa1c99f,_0x424b6f){return _0xa1c99f===_0x424b6f;},'hLQLC':function(_0x319809,_0x13eb39){return _0x319809>_0x13eb39;},'NKYPV':function(_0xd9536e,_0x563d29){return _0xd9536e+_0x563d29;},'BiVMx':_0x33f4b8(0x19e),'EeHDb':function(_0x1d79b9,_0x29891d){return _0x1d79b9===_0x29891d;},'mQtLf':function(_0x45aa82,_0x18772c){return _0x45aa82===_0x18772c;},'IALrg':function(_0x43150f,_0x5bf625){return _0x43150f===_0x5bf625;},'qKXLH':function(_0x2b5c4f,_0x47f717){return _0x2b5c4f===_0x47f717;},'JjNQz':function(_0x32127a,_0x21bcdd){return _0x32127a===_0x21bcdd;},'Kmuou':function(_0x37d86f,_0x26f354){return _0x37d86f===_0x26f354;},'sNvaQ':function(_0x2c406e,_0x2262e3){return _0x2c406e===_0x2262e3;},'mIEGR':function(_0xc5ef32,_0x12b69f){return _0xc5ef32===_0x12b69f;},'qsiXE':function(_0x246044,_0x28f2e9){return _0x246044===_0x28f2e9;},'nADsy':_0x33f4b8(0xd3)};var _0x3450f7,_0x43d92b;const {stream:_0x56f4ed,type:_0x2e1dbd}=await(0x0,exports[_0x33f4b8(0x168)])(_0xf1fa26,_0x336c02);_0x4980e3[_0x33f4b8(0x120)](_0x262303,null)||_0x262303===void 0x0?void 0x0:_0x262303[_0x33f4b8(0x18b)](_0x4980e3[_0x33f4b8(0xce)]);const _0x249c0b=Crypto[_0x33f4b8(0x194)](0x20),{cipherKey:_0x5447d5,iv:_0x12475e,macKey:_0x439388}=await _0x4980e3[_0x33f4b8(0xed)](getMediaKeys,_0x249c0b,_0x4986d7),_0x104600=(0x0,path_1[_0x33f4b8(0x1a1)])(_0x4980e3[_0x33f4b8(0x173)](getTmpFilesDirectory),_0x4980e3[_0x33f4b8(0x141)](_0x4980e3[_0x33f4b8(0x162)](_0x4986d7,(0x0,generics_1[_0x33f4b8(0x102)])()),_0x4980e3[_0x33f4b8(0x14d)])),_0x2ea67d=(0x0,fs_1[_0x33f4b8(0x12f)])(_0x104600);let _0x448a9f,_0x87df60;_0x35e51c&&(_0x87df60=(0x0,path_1[_0x33f4b8(0x1a1)])(_0x4980e3[_0x33f4b8(0x1a6)](getTmpFilesDirectory),_0x4980e3[_0x33f4b8(0x19d)](_0x4980e3[_0x33f4b8(0x19d)](_0x4986d7,(0x0,generics_1[_0x33f4b8(0x102)])()),_0x4980e3[_0x33f4b8(0xe9)])),_0x448a9f=(0x0,fs_1[_0x33f4b8(0x12f)])(_0x87df60));let _0x2d2c97=0x0;const _0x4db5eb=Crypto['createCipheriv'](_0x33f4b8(0x139),_0x5447d5,_0x12475e),_0x1282b9=Crypto['createHmac'](_0x4980e3[_0x33f4b8(0x113)],_0x439388)[_0x33f4b8(0xaa)](_0x12475e),_0x295022=Crypto[_0x33f4b8(0xd7)](_0x4980e3[_0x33f4b8(0x113)]),_0x4b4072=Crypto[_0x33f4b8(0xd7)](_0x33f4b8(0x133)),_0x66b631=_0x11ec96=>{const _0x5f5360=_0x33f4b8;_0x4b4072['update'](_0x11ec96),_0x1282b9[_0x5f5360(0xaa)](_0x11ec96),_0x2ea67d['write'](_0x11ec96);};try{for await(const _0x2baaa7 of _0x56f4ed){const _0x23b798=_0x4980e3['anUCp'][_0x33f4b8(0x18c)]('|');let _0x5d761f=0x0;while(!![]){switch(_0x23b798[_0x5d761f++]){case'0':_0x2d2c97+=_0x2baaa7['length'];continue;case'1':_0x295022[_0x33f4b8(0xaa)](_0x2baaa7);continue;case'2':_0x4980e3[_0x33f4b8(0x104)](_0x66b631,_0x4db5eb['update'](_0x2baaa7));continue;case'3':if(_0x2e1dbd===_0x4980e3[_0x33f4b8(0x19f)]&&(_0x4980e3[_0x33f4b8(0x120)](_0x336c02,null)||_0x4980e3[_0x33f4b8(0x167)](_0x336c02,void 0x0)?void 0x0:_0x336c02['maxContentLength'])&&_0x4980e3[_0x33f4b8(0xc0)](_0x4980e3['NKYPV'](_0x2d2c97,_0x2baaa7['length']),_0x336c02[_0x33f4b8(0x1ce)]))throw new boom_1['Boom'](_0x33f4b8(0x1dd)+_0x2e1dbd+'\x22',{'data':{'media':_0xf1fa26,'type':_0x2e1dbd}});continue;case'4':_0x448a9f&&(!_0x448a9f[_0x33f4b8(0xdc)](_0x2baaa7)&&await(0x0,events_1[_0x33f4b8(0x14f)])(_0x448a9f,_0x4980e3[_0x33f4b8(0x15f)]));continue;}break;}}_0x4980e3[_0x33f4b8(0x104)](_0x66b631,_0x4db5eb[_0x33f4b8(0x18f)]());const _0x2fff7a=_0x1282b9[_0x33f4b8(0x1ad)]()[_0x33f4b8(0xd1)](0x0,0xa);_0x4b4072[_0x33f4b8(0xaa)](_0x2fff7a);const _0x163586=_0x295022['digest'](),_0x4d3514=_0x4b4072[_0x33f4b8(0x1ad)]();return _0x2ea67d[_0x33f4b8(0xdc)](_0x2fff7a),_0x2ea67d['end'](),_0x4980e3[_0x33f4b8(0x19a)](_0x3450f7=_0x4980e3['mQtLf'](_0x448a9f,null)||_0x4980e3[_0x33f4b8(0x1c3)](_0x448a9f,void 0x0)?void 0x0:_0x448a9f['end'],null)||_0x3450f7===void 0x0?void 0x0:_0x3450f7['call'](_0x448a9f),_0x56f4ed[_0x33f4b8(0x192)](),_0x4980e3[_0x33f4b8(0x17b)](_0x262303,null)||_0x4980e3[_0x33f4b8(0x132)](_0x262303,void 0x0)?void 0x0:_0x262303[_0x33f4b8(0x18b)](_0x33f4b8(0xf4)),{'mediaKey':_0x249c0b,'originalFilePath':_0x87df60,'encFilePath':_0x104600,'mac':_0x2fff7a,'fileEncSha256':_0x4d3514,'fileSha256':_0x163586,'fileLength':_0x2d2c97};}catch(_0x128f07){_0x2ea67d[_0x33f4b8(0x192)](),(_0x43d92b=_0x4980e3[_0x33f4b8(0x16e)](_0x448a9f,null)||_0x4980e3['Kmuou'](_0x448a9f,void 0x0)?void 0x0:_0x448a9f[_0x33f4b8(0x192)])===null||_0x4980e3['sNvaQ'](_0x43d92b,void 0x0)?void 0x0:_0x43d92b[_0x33f4b8(0x181)](_0x448a9f),_0x4db5eb[_0x33f4b8(0x192)](),_0x1282b9[_0x33f4b8(0x192)](),_0x295022[_0x33f4b8(0x192)](),_0x4b4072[_0x33f4b8(0x192)](),_0x56f4ed[_0x33f4b8(0x192)]();try{await fs_1[_0x33f4b8(0xcb)][_0x33f4b8(0x146)](_0x104600),_0x87df60&&await fs_1[_0x33f4b8(0xcb)][_0x33f4b8(0x146)](_0x87df60);}catch(_0x16b951){_0x4980e3['mIEGR'](_0x262303,null)||_0x4980e3[_0x33f4b8(0x135)](_0x262303,void 0x0)?void 0x0:_0x262303['error']({'err':_0x16b951},_0x4980e3[_0x33f4b8(0x16b)]);}throw _0x128f07;}};exports[a1219_0x1c2e7d(0x155)]=encryptedStream;const DEF_HOST='mmg.whatsapp.net',AES_CHUNK_SIZE=0x10,toSmallestChunkSize=_0x1474ce=>{const _0x4716dc=a1219_0x1c2e7d,_0x11c095={'XrqBP':function(_0x626534,_0x831c25){return _0x626534*_0x831c25;},'tqFrT':function(_0x304c6b,_0x352c3f){return _0x304c6b/_0x352c3f;}};return _0x11c095['XrqBP'](Math[_0x4716dc(0x112)](_0x11c095[_0x4716dc(0x1cb)](_0x1474ce,AES_CHUNK_SIZE)),AES_CHUNK_SIZE);},getUrlFromDirectPath=_0x4df050=>a1219_0x1c2e7d(0xbf)+DEF_HOST+_0x4df050;function a1219_0x44ec(_0x43b292,_0x414cb){const _0x4b75de=a1219_0x4b75();return a1219_0x44ec=function(_0x44ec4f,_0x20e5ba){_0x44ec4f=_0x44ec4f-0xa7;let _0x3ce43b=_0x4b75de[_0x44ec4f];return _0x3ce43b;},a1219_0x44ec(_0x43b292,_0x414cb);}exports[a1219_0x1c2e7d(0x1e3)]=getUrlFromDirectPath;const downloadContentFromMessage=async({mediaKey:_0x562380,directPath:_0x12f72c,url:_0xf52196},_0x34b16b,_0x358175={})=>{const _0x1cad0d=a1219_0x1c2e7d,_0x194e41={'sfajV':function(_0x51024d,_0x3d2295,_0x2ccd22){return _0x51024d(_0x3d2295,_0x2ccd22);}},_0x3250c9=_0xf52196||(0x0,exports[_0x1cad0d(0x1e3)])(_0x12f72c),_0x316e09=await _0x194e41[_0x1cad0d(0xe4)](getMediaKeys,_0x562380,_0x34b16b);return(0x0,exports[_0x1cad0d(0x1ca)])(_0x3250c9,_0x316e09,_0x358175);};exports[a1219_0x1c2e7d(0x1af)]=downloadContentFromMessage;const downloadEncryptedContent=async(_0x1dac14,{cipherKey:_0x244aa7,iv:_0x39075b},{startByte:_0x4e0c33,endByte:_0xa84d9,options:_0x1229a4}={})=>{const _0x527cec=a1219_0x1c2e7d,_0x50a657={'nGErr':function(_0x244b3d,_0x5b3156){return _0x244b3d||_0x5b3156;},'urWpp':function(_0x127951,_0x5791e3){return _0x127951>=_0x5791e3;},'xhfXm':function(_0x569950,_0x65ac71){return _0x569950-_0x65ac71;},'jiRAu':function(_0x199255,_0x4eb830){return _0x199255<_0x4eb830;},'QOlca':function(_0x50ab6d,_0xdf1d32){return _0x50ab6d(_0xdf1d32);},'VfkMG':function(_0x13ee55,_0x231aaf){return _0x13ee55(_0x231aaf);},'iYIpT':function(_0x31a5b5,_0x33195d,_0x39101b){return _0x31a5b5(_0x33195d,_0x39101b);},'YzyAZ':function(_0x27a32d){return _0x27a32d();},'hpORk':function(_0x40a3ba,_0x567ddb,_0x526f10){return _0x40a3ba(_0x567ddb,_0x526f10);},'JbYOl':function(_0x227f38){return _0x227f38();},'duNHU':function(_0x30231f,_0x39277e){return _0x30231f(_0x39277e);},'RMGXp':function(_0x568948,_0x105dbd){return _0x568948+_0x105dbd;},'iVTTo':function(_0x51731f,_0x4c8bcb){return _0x51731f||_0x4c8bcb;},'waqXy':function(_0x5aba24,_0x2eaff6){return _0x5aba24===_0x2eaff6;},'JBdsz':function(_0x32e5fb,_0xefe1ea){return _0x32e5fb===_0xefe1ea;},'casYX':function(_0x3b4ba4,_0xbbe773){return _0x3b4ba4||_0xbbe773;}};let _0x33ef88=0x0,_0x258a7e=0x0,_0x38f04e=![];if(_0x4e0c33){const _0x4fb32f=_0x50a657[_0x527cec(0x12b)](toSmallestChunkSize,_0x50a657[_0x527cec(0x151)](_0x4e0c33,0x0));_0x4fb32f&&(_0x258a7e=_0x4fb32f-AES_CHUNK_SIZE,_0x33ef88=_0x4fb32f,_0x38f04e=!![]);}const _0x1bcc7d=_0xa84d9?_0x50a657[_0x527cec(0x121)](_0x50a657[_0x527cec(0x1c6)](toSmallestChunkSize,_0x50a657[_0x527cec(0xec)](_0xa84d9,0x0)),AES_CHUNK_SIZE):undefined,_0x20025a={...(_0x50a657[_0x527cec(0x1d1)](_0x1229a4,null)||_0x50a657[_0x527cec(0x164)](_0x1229a4,void 0x0)?void 0x0:_0x1229a4[_0x527cec(0xfe)])||{},'Origin':Defaults_1[_0x527cec(0x1b5)]};_0x50a657[_0x527cec(0x185)](_0x258a7e,_0x1bcc7d)&&(_0x20025a['Range']=_0x527cec(0x199)+_0x258a7e+'-',_0x1bcc7d&&(_0x20025a[_0x527cec(0x127)]+=_0x1bcc7d));const _0x5cea8f=await(0x0,exports[_0x527cec(0x1b0)])(_0x1dac14,{..._0x1229a4||{},'headers':_0x20025a,'maxBodyLength':Infinity,'maxContentLength':Infinity});let _0x21993a=Buffer[_0x527cec(0x156)]([]),_0x4fc25b;const _0x3b58b4=(_0x4708ec,_0x2789b5)=>{const _0x28f81d=_0x527cec;if(_0x50a657[_0x28f81d(0x151)](_0x4e0c33,_0xa84d9)){const _0x11741a=_0x50a657[_0x28f81d(0x1a7)](_0x33ef88,_0x4e0c33)?undefined:Math[_0x28f81d(0xa7)](_0x50a657[_0x28f81d(0x15d)](_0x4e0c33,_0x33ef88),0x0),_0x2d8bcd=_0x50a657[_0x28f81d(0xd6)](_0x33ef88+_0x4708ec[_0x28f81d(0x1ab)],_0xa84d9)?undefined:Math['max'](_0x50a657[_0x28f81d(0x15d)](_0xa84d9,_0x33ef88),0x0);_0x50a657[_0x28f81d(0x12b)](_0x2789b5,_0x4708ec['slice'](_0x11741a,_0x2d8bcd)),_0x33ef88+=_0x4708ec[_0x28f81d(0x1ab)];}else _0x2789b5(_0x4708ec);},_0x1e8f7f=new stream_1['Transform']({'transform'(_0xe0bcec,_0x3c1760,_0x15faa2){const _0x2eb0e0=_0x527cec;let _0x54fea8=Buffer['concat']([_0x21993a,_0xe0bcec]);const _0x5c8f35=_0x50a657[_0x2eb0e0(0xe8)](toSmallestChunkSize,_0x54fea8[_0x2eb0e0(0x1ab)]);_0x21993a=_0x54fea8['slice'](_0x5c8f35),_0x54fea8=_0x54fea8['slice'](0x0,_0x5c8f35);if(!_0x4fc25b){let _0x30ab90=_0x39075b;_0x38f04e&&(_0x30ab90=_0x54fea8['slice'](0x0,AES_CHUNK_SIZE),_0x54fea8=_0x54fea8[_0x2eb0e0(0xd1)](AES_CHUNK_SIZE)),_0x4fc25b=Crypto['createDecipheriv']('aes-256-cbc',_0x244aa7,_0x30ab90),_0xa84d9&&_0x4fc25b[_0x2eb0e0(0x10a)](![]);}try{_0x50a657['iYIpT'](_0x3b58b4,_0x4fc25b['update'](_0x54fea8),_0x35ac06=>this[_0x2eb0e0(0x195)](_0x35ac06)),_0x50a657[_0x2eb0e0(0x163)](_0x15faa2);}catch(_0x3c4da1){_0x50a657[_0x2eb0e0(0x12b)](_0x15faa2,_0x3c4da1);}},'final'(_0x40e544){const _0x5bd8de=_0x527cec;try{_0x50a657[_0x5bd8de(0xd5)](_0x3b58b4,_0x4fc25b[_0x5bd8de(0x18f)](),_0x1de182=>this[_0x5bd8de(0x195)](_0x1de182)),_0x50a657['JbYOl'](_0x40e544);}catch(_0x507f7f){_0x50a657[_0x5bd8de(0x1c6)](_0x40e544,_0x507f7f);}}});return _0x5cea8f['pipe'](_0x1e8f7f,{'end':!![]});};exports[a1219_0x1c2e7d(0x1ca)]=downloadEncryptedContent;function extensionForMediaMessage(_0x3f1b62){const _0x1df9ef=a1219_0x1c2e7d,_0x53b28b={'iJvaa':function(_0x564c3f,_0x5439a9){return _0x564c3f===_0x5439a9;},'eECNl':_0x1df9ef(0x1a9),'cNSki':function(_0x5a283f,_0x467433){return _0x5a283f===_0x467433;},'ZFQxr':_0x1df9ef(0x1e4),'xnvNe':_0x1df9ef(0x13e),'YRFFo':_0x1df9ef(0x1bc),'wDoOI':function(_0x4aa6d2,_0x476776){return _0x4aa6d2(_0x476776);}},_0x2e8983=_0x24f532=>_0x24f532['split'](';')[0x0][_0x1df9ef(0x18c)]('/')[0x1],_0x43aa5c=Object['keys'](_0x3f1b62)[0x0];let _0x27e857;if(_0x53b28b[_0x1df9ef(0xa9)](_0x43aa5c,_0x53b28b[_0x1df9ef(0x15a)])||_0x53b28b[_0x1df9ef(0x15c)](_0x43aa5c,_0x53b28b[_0x1df9ef(0xdf)])||_0x53b28b[_0x1df9ef(0x15c)](_0x43aa5c,_0x53b28b['xnvNe']))_0x27e857=_0x53b28b['YRFFo'];else{const _0x10cd5a=_0x3f1b62[_0x43aa5c];_0x27e857=_0x53b28b[_0x1df9ef(0x1bf)](_0x2e8983,_0x10cd5a[_0x1df9ef(0x117)]);}return _0x27e857;}const getWAUploadToServer=({customUploadHosts:_0x500c04,fetchAgent:_0x55d86c,logger:_0x396698,options:_0x584cce},_0x2b51c7)=>{const _0x50173b=a1219_0x1c2e7d,_0x24c648={'eqdjo':function(_0x439609,_0x671a96){return _0x439609(_0x671a96);},'ezZUO':_0x50173b(0xf6),'DytWs':'json','Cumqs':function(_0x28ecfb,_0x49d102){return _0x28ecfb===_0x49d102;},'EzHjr':function(_0x3b1ab6,_0x3d48e8){return _0x3b1ab6===_0x3d48e8;},'MErpH':function(_0x453ab7,_0x45bebc){return _0x453ab7===_0x45bebc;},'wJLTv':function(_0x27c5c6,_0x3504af){return _0x27c5c6===_0x3504af;},'xlGmw':function(_0x4b469e,_0x14407f){return _0x4b469e===_0x14407f;},'EAndX':function(_0x4e3e0f,_0x2de6be){return _0x4e3e0f===_0x2de6be;},'wGUMF':_0x50173b(0x15e)};return async(_0x20ad6d,{mediaType:_0x4d9c3c,fileEncSha256B64:_0x54a69d,timeoutMs:_0x25d9e8})=>{const _0xd60472=_0x50173b;var _0x3023b5,_0x1590eb;let _0x862866=await _0x24c648[_0xd60472(0x18a)](_0x2b51c7,![]),_0xcba59e;const _0x1b803d=[..._0x500c04,..._0x862866[_0xd60472(0x18e)]];_0x54a69d=(0x0,exports[_0xd60472(0x13c)])(_0x54a69d);for(const {hostname:_0x25b39c}of _0x1b803d){_0x396698[_0xd60472(0x18b)](_0xd60472(0x143)+_0x25b39c+'\x22');const _0x59d7ec=_0x24c648[_0xd60472(0x18a)](encodeURIComponent,_0x862866[_0xd60472(0x188)]),_0x10a0e2='https://'+_0x25b39c+Defaults_1[_0xd60472(0x1c5)][_0x4d9c3c]+'/'+_0x54a69d+_0xd60472(0x17c)+_0x59d7ec+'&token='+_0x54a69d;let _0x183c71;try{const _0x295da8=await axios_1['default'][_0xd60472(0x126)](_0x10a0e2,(0x0,fs_1[_0xd60472(0xbc)])(_0x20ad6d),{..._0x584cce,'maxRedirects':0x0,'headers':{..._0x584cce[_0xd60472(0xfe)]||{},'Content-Type':_0x24c648[_0xd60472(0x1b1)],'Origin':Defaults_1['DEFAULT_ORIGIN']},'httpsAgent':_0x55d86c,'timeout':_0x25d9e8,'responseType':_0x24c648['DytWs'],'maxBodyLength':Infinity,'maxContentLength':Infinity});_0x183c71=_0x295da8['data'];if((_0x24c648[_0xd60472(0x17e)](_0x183c71,null)||_0x24c648[_0xd60472(0xe3)](_0x183c71,void 0x0)?void 0x0:_0x183c71['url'])||(_0x24c648[_0xd60472(0x137)](_0x183c71,null)||_0x183c71===void 0x0?void 0x0:_0x183c71['directPath'])){_0xcba59e={'mediaUrl':_0x183c71[_0xd60472(0xc1)],'directPath':_0x183c71[_0xd60472(0xcd)]};break;}else{_0x862866=await _0x2b51c7(!![]);throw new Error(_0xd60472(0x1c0)+JSON[_0xd60472(0x12c)](_0x183c71));}}catch(_0x19c4eb){axios_1[_0xd60472(0xd0)][_0xd60472(0xeb)](_0x19c4eb)&&(_0x183c71=_0x24c648[_0xd60472(0xac)](_0x3023b5=_0x19c4eb['response'],null)||_0x24c648['xlGmw'](_0x3023b5,void 0x0)?void 0x0:_0x3023b5[_0xd60472(0x145)]);const _0x28ff39=_0x24c648[_0xd60472(0xe3)](_0x25b39c,_0x24c648[_0xd60472(0x1da)](_0x1590eb=_0x1b803d[_0x862866[_0xd60472(0x18e)][_0xd60472(0x1ab)]-0x1],null)||_0x24c648['EAndX'](_0x1590eb,void 0x0)?void 0x0:_0x1590eb[_0xd60472(0x140)]);_0x396698[_0xd60472(0xc4)]({'trace':_0x19c4eb[_0xd60472(0x1ae)],'uploadResult':_0x183c71},_0xd60472(0x11d)+_0x25b39c+'\x20'+(_0x28ff39?'':_0xd60472(0xb1)));}}if(!_0xcba59e)throw new boom_1['Boom'](_0x24c648[_0xd60472(0x1d7)],{'statusCode':0x1f4});return _0xcba59e;};};exports[a1219_0x1c2e7d(0x136)]=getWAUploadToServer;function a1219_0x4b75(){const _0xb9592=['remote','QViQO','drain','FBqrw','defineProperty','join','GkeZU','concat','getOwnPropertyNames','FkdWs','AskkB','urWpp','IyCtg','locationMessage','whhyM','length','toString','digest','stack','downloadContentFromMessage','getHttpStream','ezZUO','server-error','getWidth','generateThumbnail','DEFAULT_ORIGIN','quality','pow','Ytbgv','getAudioDuration','fetched\x20media\x20stream','encryptMediaRetryRequest','.jpeg','BPUYR','__esModule','wDoOI','upload\x20failed,\x20reason:\x20','bqIZs','CSLbr','IALrg','./generics','MEDIA_PATH_MAP','duNHU','buffer','sdNLr','extractImageThumb','downloadEncryptedContent','tqFrT','Readable','getStatusCodeForMediaRetry','maxContentLength','MxvLe','Boom','waqXy','getAudioWaveform','ResultType','llQQy','file','metadata','wGUMF','eNCvh','woGVd','xlGmw','getBinaryNodeChildBuffer','BQIKm','content\x20length\x20exceeded\x20when\x20encrypting\x20\x22','data:;base64,','decodeMediaRetryNode','get','MnnVB','MediaRetryNotification','getUrlFromDirectPath','liveLocationMessage','max','zJZYz','iJvaa','update','616749XTPhck','wJLTv','read','encrypt','XlzYO','tLffp',',\x20retrying...','prototype','resolve','then','tmpdir','cWIWs','__importDefault','sRJxi','toBuffer','.jpg','HfrzR','createReadStream','3yuwCnx','catch','https://','hLQLC','url','attrs','stream','warn','could\x20not\x20generate\x20video\x20thumb:\x20','mIAoe','decryptMediaRetryData',':-1\x20-vframes\x201\x20-f\x20image2\x20','Failed\x20to\x20re-upload\x20media\x20(missing\x20ciphertext)','enc_iv','promises','VnSQY','direct_path','imJEG','map','default','slice','width','failed\x20deleting\x20tmp\x20files','video','hpORk','jiRAu','createHash','image','create','replace','getHeight','write','NbmWi','xpMOR','ZFQxr','jpeg','oJiHc','ijINa','EzHjr','sfajV','all','enc_p','\x20-i\x20','VfkMG','medFN','function','isAxiosError','iVTTo','Loctc','NOT_FOUND','startsWith','iGrOA','\x20-y\x20-vf\x20scale=','qILiY','No\x20image\x20processing\x20library\x20available','encrypted\x20data\x20successfully','JycJG','application/octet-stream','./crypto','GKKgS','../Defaults','hkdf','WTMYQ','http://','Failed\x20to\x20re-upload\x20media\x20(','headers','tRuNB','getMediaKeys','kfVcc','generateMessageIDV2','jimp','wZbLq','rmr','path','TfMzq','PBHTD','duration','setAutoPadding','media','parseStream','ZQLlz','tAFLm','GBYEZ','6910688oNEcCp','proto','floor','cVWmq','WhatsApp\x20Media\x20Retry\x20Notification','child_process','base64','mimetype','VGYBE','muJCM','jid','LQhsX','from_me','Error\x20in\x20uploading\x20to\x20','nvxGB','lNQCq','ymWEP','RMGXp','string','__importStar','GqOPa','readFile','post','Range','resize','receipt','yNaYi','QOlca','stringify','PUSZR','HAgRT','createWriteStream','MEDIA_HKDF_KEY_MAPPING','hasOwnProperty','JjNQz','sha256','aesDecryptGCM','qsiXE','getWAUploadToServer','MErpH','../WABinary','aes-256-cbc','hsjwQ','crypto','encodeBase64EncodedStringForUpload','@hapi/boom','productMessage','XUxkt','hostname','maXKH','CAcHf','uploading\x20to\x20\x22','finish','data','unlink','Nmkug','kxoZI','sharp','sbSrS','ffmpeg\x20-ss\x20','KuqkP','aGjen','height','once','isBuffer','nGErr','hkdfInfoKey','fileSha256','0|3|4|1|2','encryptedStream','from','code','-enc','3325086XbwufD','eECNl','getBufferAsync','cNSki','xhfXm','Media\x20upload\x20failed\x20on\x20all\x20hosts','BiVMx','yWusJ','true','vRUlh','YzyAZ','JBdsz','ServerErrorReceipt','remoteJid','etgGl','getStream','audio-decode','svddZ','nADsy','BlEwH','fromMe','mQtLf','DECRYPTION_ERROR','Failed\x20to\x20generate\x20waveform:\x20','pPjkB','-original','PjgtJ','gTvyl','1737065yTrnxa','toReadable','logger','generateProfilePicture','297344aZcuav','configurable','qKXLH','?auth=','XiZXY','Cumqs','hKXtp','321508kUCBrl','call','pdxCh','abs','events','casYX','mediaMessageSHA256B64','IlcqA','auth','EEBhr','eqdjo','debug','split','LJFVP','hosts','final','cXhvQ','3523204MzuMSf','destroy','xSMil','randomBytes','push','getBinaryNodeChild','error','participant','bytes=','EeHDb','getOwnPropertyDescriptor'];a1219_0x4b75=function(){return _0xb9592;};return a1219_0x4b75();}const getMediaRetryKey=_0x26edf4=>{const _0x5a2e3b=a1219_0x1c2e7d,_0x58c33a={'LQhsX':_0x5a2e3b(0x114)};return(0x0,crypto_1[_0x5a2e3b(0xfa)])(_0x26edf4,0x20,{'info':_0x58c33a[_0x5a2e3b(0x11b)]});},encryptMediaRetryRequest=async(_0x2bd993,_0x3e8f1e,_0x48ea74)=>{const _0x1f31b4=a1219_0x1c2e7d,_0x4c3456={'CSLbr':function(_0x4d77b9,_0xf8a3d7){return _0x4d77b9(_0xf8a3d7);},'KuqkP':_0x1f31b4(0x1b2),'hAzXL':_0x1f31b4(0xae),'VBDOR':_0x1f31b4(0xe6),'lNQCq':_0x1f31b4(0xca),'whhyM':_0x1f31b4(0x105)},_0x3e973e={'stanzaId':_0x2bd993['id']},_0x119c54=WAProto_1[_0x1f31b4(0x111)][_0x1f31b4(0x165)]['encode'](_0x3e973e)[_0x1f31b4(0x144)](),_0x34ece6=Crypto[_0x1f31b4(0x194)](0xc),_0x7de6ff=await _0x4c3456[_0x1f31b4(0x1c2)](getMediaRetryKey,_0x3e8f1e),_0x23f9d7=(0x0,crypto_1['aesEncryptGCM'])(_0x119c54,_0x7de6ff,_0x34ece6,Buffer[_0x1f31b4(0x156)](_0x2bd993['id'])),_0x5225c7={'tag':_0x1f31b4(0x129),'attrs':{'id':_0x2bd993['id'],'to':(0x0,WABinary_1['jidNormalizedUser'])(_0x48ea74),'type':_0x4c3456[_0x1f31b4(0x14c)]},'content':[{'tag':_0x4c3456['hAzXL'],'attrs':{},'content':[{'tag':_0x4c3456['VBDOR'],'attrs':{},'content':_0x23f9d7},{'tag':_0x4c3456[_0x1f31b4(0x11f)],'attrs':{},'content':_0x34ece6}]},{'tag':_0x4c3456[_0x1f31b4(0x1aa)],'attrs':{'jid':_0x2bd993[_0x1f31b4(0x166)],'from_me':(!!_0x2bd993[_0x1f31b4(0x16d)])[_0x1f31b4(0x1ac)](),'participant':_0x2bd993['participant']||undefined}}]};return _0x5225c7;};exports['encryptMediaRetryRequest']=encryptMediaRetryRequest;const decodeMediaRetryNode=_0x22ad28=>{const _0x17f609=a1219_0x1c2e7d,_0x3d434c={'iqzrj':_0x17f609(0x105),'GKKgS':function(_0x1ab3e8,_0x414252){return _0x1ab3e8===_0x414252;},'hsjwQ':_0x17f609(0x161),'BQIKm':_0x17f609(0x197),'IlcqA':'enc_p','VGYBE':_0x17f609(0xca),'tAFLm':function(_0x2dd489,_0x1bf587){return _0x2dd489&&_0x1bf587;},'LJFVP':_0x17f609(0xc9)},_0x410b52=(0x0,WABinary_1[_0x17f609(0x196)])(_0x22ad28,_0x3d434c['iqzrj']),_0x3efc51={'key':{'id':_0x22ad28[_0x17f609(0xc2)]['id'],'remoteJid':_0x410b52['attrs'][_0x17f609(0x11a)],'fromMe':_0x3d434c[_0x17f609(0xf8)](_0x410b52[_0x17f609(0xc2)][_0x17f609(0x11c)],_0x3d434c[_0x17f609(0x13a)]),'participant':_0x410b52[_0x17f609(0xc2)][_0x17f609(0x198)]}},_0x18de22=(0x0,WABinary_1['getBinaryNodeChild'])(_0x22ad28,_0x3d434c[_0x17f609(0x1dc)]);if(_0x18de22){const _0x206f0e=+_0x18de22[_0x17f609(0xc2)][_0x17f609(0x157)];_0x3efc51[_0x17f609(0x197)]=new boom_1[(_0x17f609(0x1d0))](_0x17f609(0xfd)+_0x206f0e+')',{'data':_0x18de22[_0x17f609(0xc2)],'statusCode':(0x0,exports[_0x17f609(0x1cd)])(_0x206f0e)});}else{const _0x304fd1=(0x0,WABinary_1[_0x17f609(0x196)])(_0x22ad28,_0x17f609(0xae)),_0x58a3a5=(0x0,WABinary_1[_0x17f609(0x1db)])(_0x304fd1,_0x3d434c[_0x17f609(0x187)]),_0x1523f3=(0x0,WABinary_1[_0x17f609(0x1db)])(_0x304fd1,_0x3d434c[_0x17f609(0x118)]);_0x3d434c[_0x17f609(0x10e)](_0x58a3a5,_0x1523f3)?_0x3efc51[_0x17f609(0x10b)]={'ciphertext':_0x58a3a5,'iv':_0x1523f3}:_0x3efc51[_0x17f609(0x197)]=new boom_1[(_0x17f609(0x1d0))](_0x3d434c[_0x17f609(0x18d)],{'statusCode':0x194});}return _0x3efc51;};exports[a1219_0x1c2e7d(0x1df)]=decodeMediaRetryNode;const decryptMediaRetryData=async({ciphertext:_0x29d984,iv:_0x5b9aaf},_0x3334a2,_0x492dfa)=>{const _0x144004=a1219_0x1c2e7d,_0x3718bc={'BlEwH':function(_0x78356a,_0x33c029){return _0x78356a(_0x33c029);}},_0x57d218=await _0x3718bc[_0x144004(0x16c)](getMediaRetryKey,_0x3334a2),_0x5f1239=(0x0,crypto_1[_0x144004(0x134)])(_0x29d984,_0x57d218,_0x5b9aaf,Buffer['from'](_0x492dfa));return WAProto_1[_0x144004(0x111)][_0x144004(0x1e2)]['decode'](_0x5f1239);};exports[a1219_0x1c2e7d(0xc7)]=decryptMediaRetryData;const getStatusCodeForMediaRetry=_0x177856=>MEDIA_RETRY_STATUS_MAP[_0x177856];exports[a1219_0x1c2e7d(0x1cd)]=getStatusCodeForMediaRetry;const MEDIA_RETRY_STATUS_MAP={[WAProto_1[a1219_0x1c2e7d(0x111)]['MediaRetryNotification'][a1219_0x1c2e7d(0x1d3)]['SUCCESS']]:0xc8,[WAProto_1[a1219_0x1c2e7d(0x111)]['MediaRetryNotification'][a1219_0x1c2e7d(0x1d3)][a1219_0x1c2e7d(0x16f)]]:0x19c,[WAProto_1['proto'][a1219_0x1c2e7d(0x1e2)]['ResultType'][a1219_0x1c2e7d(0xee)]]:0x194,[WAProto_1[a1219_0x1c2e7d(0x111)][a1219_0x1c2e7d(0x1e2)][a1219_0x1c2e7d(0x1d3)]['GENERAL_ERROR']]:0x1a2};