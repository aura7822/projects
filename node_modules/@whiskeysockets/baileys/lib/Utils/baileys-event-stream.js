'use strict';function a1206_0x2f25(_0x4f2d52,_0x39510a){const _0x17a270=a1206_0x17a2();return a1206_0x2f25=function(_0x2f2505,_0x11711d){_0x2f2505=_0x2f2505-0x151;let _0x1b21c1=_0x17a270[_0x2f2505];return _0x1b21c1;},a1206_0x2f25(_0x4f2d52,_0x39510a);}const a1206_0x55a553=a1206_0x2f25;function a1206_0x17a2(){const _0x408ee5=['1133604jZQQGE','3WUMwsY','writeFile','1977728ptNWdi','1pijCHh','defineProperty','612ujctaL','stringify','parse','410322WsgmRF','__importDefault','6elKuyi','captureEventStream','./generics','16OXUzZW','makeMutex','7348160SaLjAh','__esModule','readAndEmitEventStream','readline','fs/promises','delay','4334631YVPeZc','emit','./make-mutex','2986635cFZbde','events','1753676zUCjMN','close','createInterface','now','default'];a1206_0x17a2=function(){return _0x408ee5;};return a1206_0x17a2();}(function(_0x1c7eaa,_0x164a54){const _0x488c43=a1206_0x2f25,_0x386860=_0x1c7eaa();while(!![]){try{const _0x58865a=-parseInt(_0x488c43(0x155))/0x1*(-parseInt(_0x488c43(0x154))/0x2)+-parseInt(_0x488c43(0x152))/0x3*(-parseInt(_0x488c43(0x16c))/0x4)+parseInt(_0x488c43(0x16a))/0x5*(parseInt(_0x488c43(0x15c))/0x6)+parseInt(_0x488c43(0x167))/0x7*(parseInt(_0x488c43(0x15f))/0x8)+parseInt(_0x488c43(0x151))/0x9+-parseInt(_0x488c43(0x161))/0xa+-parseInt(_0x488c43(0x15a))/0xb*(parseInt(_0x488c43(0x157))/0xc);if(_0x58865a===_0x164a54)break;else _0x386860['push'](_0x386860['shift']());}catch(_0x5e744f){_0x386860['push'](_0x386860['shift']());}}}(a1206_0x17a2,0xb78c6));var __importDefault=this&&this[a1206_0x55a553(0x15b)]||function(_0xff5c14){const _0x51622f=a1206_0x55a553;return _0xff5c14&&_0xff5c14[_0x51622f(0x162)]?_0xff5c14:{'default':_0xff5c14};};Object[a1206_0x55a553(0x156)](exports,'__esModule',{'value':!![]}),exports[a1206_0x55a553(0x163)]=exports[a1206_0x55a553(0x15d)]=void 0x0;const events_1=__importDefault(require(a1206_0x55a553(0x16b))),fs_1=require('fs'),promises_1=require(a1206_0x55a553(0x165)),readline_1=require(a1206_0x55a553(0x164)),generics_1=require(a1206_0x55a553(0x15e)),make_mutex_1=require(a1206_0x55a553(0x169)),captureEventStream=(_0x1f124a,_0x5e96b0)=>{const _0x5a4f4b=a1206_0x55a553,_0x5bfe27=_0x1f124a['emit'],_0xdf8b64=(0x0,make_mutex_1[_0x5a4f4b(0x160)])();_0x1f124a[_0x5a4f4b(0x168)]=function(..._0x5f4308){const _0x4eb87b=_0x5a4f4b,_0x5114aa=JSON[_0x4eb87b(0x158)]({'timestamp':Date[_0x4eb87b(0x16f)](),'event':_0x5f4308[0x0],'data':_0x5f4308[0x1]})+'\x0a',_0x105c47=_0x5bfe27['apply'](_0x1f124a,_0x5f4308);return _0xdf8b64['mutex'](async()=>{const _0x1664f9=_0x4eb87b;await(0x0,promises_1[_0x1664f9(0x153)])(_0x5e96b0,_0x5114aa,{'flag':'a'});}),_0x105c47;};};exports[a1206_0x55a553(0x15d)]=captureEventStream;const readAndEmitEventStream=(_0x18f4e5,_0x363e39=0x0)=>{const _0x48d35b=a1206_0x55a553,_0x31094d={'rMwqn':function(_0x2fa587){return _0x2fa587();}},_0x55a78b=new events_1[(_0x48d35b(0x170))](),_0x17394d=async()=>{const _0x222fe0=_0x48d35b,_0x16c2e2=(0x0,fs_1['createReadStream'])(_0x18f4e5),_0x2ae8cc=(0x0,readline_1[_0x222fe0(0x16e)])({'input':_0x16c2e2,'crlfDelay':Infinity});for await(const _0x1dfb91 of _0x2ae8cc){if(_0x1dfb91){const {event:_0x23b37a,data:_0x30487c}=JSON[_0x222fe0(0x159)](_0x1dfb91);_0x55a78b[_0x222fe0(0x168)](_0x23b37a,_0x30487c),_0x363e39&&await(0x0,generics_1[_0x222fe0(0x166)])(_0x363e39);}}_0x16c2e2[_0x222fe0(0x16d)]();};return{'ev':_0x55a78b,'task':_0x31094d['rMwqn'](_0x17394d)};};exports[a1206_0x55a553(0x163)]=readAndEmitEventStream;