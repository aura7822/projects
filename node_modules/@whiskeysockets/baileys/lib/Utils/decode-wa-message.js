'use strict';const a1210_0x1efd41=a1210_0x3d72;(function(_0x5df3f5,_0x44b019){const _0x1b0533=a1210_0x3d72,_0x291582=_0x5df3f5();while(!![]){try{const _0x311eb9=-parseInt(_0x1b0533(0x13b))/0x1+-parseInt(_0x1b0533(0x126))/0x2+-parseInt(_0x1b0533(0x11e))/0x3*(-parseInt(_0x1b0533(0x132))/0x4)+-parseInt(_0x1b0533(0x146))/0x5+parseInt(_0x1b0533(0x137))/0x6*(parseInt(_0x1b0533(0x143))/0x7)+parseInt(_0x1b0533(0x119))/0x8*(parseInt(_0x1b0533(0x165))/0x9)+-parseInt(_0x1b0533(0x15f))/0xa*(-parseInt(_0x1b0533(0x16b))/0xb);if(_0x311eb9===_0x44b019)break;else _0x291582['push'](_0x291582['shift']());}catch(_0x886b4d){_0x291582['push'](_0x291582['shift']());}}}(a1210_0x1c4f,0x21663));Object[a1210_0x1efd41(0x144)](exports,'__esModule',{'value':!![]}),exports['decryptMessageNode']=exports[a1210_0x1efd41(0x161)]=exports['MISSING_KEYS_ERROR_TEXT']=exports['NO_MESSAGE_FOUND_ERROR_TEXT']=void 0x0,exports[a1210_0x1efd41(0x145)]=decodeMessageNode;const boom_1=require(a1210_0x1efd41(0x153)),WAProto_1=require('../../WAProto'),WABinary_1=require(a1210_0x1efd41(0x129)),generics_1=require(a1210_0x1efd41(0x169));exports[a1210_0x1efd41(0x14f)]='Message\x20absent\x20from\x20node',exports[a1210_0x1efd41(0x13d)]=a1210_0x1efd41(0x15d),exports[a1210_0x1efd41(0x161)]={'ParsingError':0x1e7,'UnrecognizedStanza':0x1e8,'UnrecognizedStanzaClass':0x1e9,'UnrecognizedStanzaType':0x1ea,'InvalidProtobuf':0x1eb,'InvalidHostedCompanionStanza':0x1ed,'MissingMessageSecret':0x1ef,'SignalErrorOldCounter':0x1f0,'MessageDeletedOnPeer':0x1f3,'UnhandledError':0x1f4,'UnsupportedAdminRevoke':0x226,'UnsupportedLIDGroup':0x227,'DBOperationFailed':0x228};function decodeMessageNode(_0x113cb7,_0x10283c,_0x4032cb){const _0x542bd7=a1210_0x1efd41,_0x2dbdd4={'ZZqeH':function(_0x21a378,_0x27b5ca){return _0x21a378(_0x27b5ca);},'XXhhw':function(_0x1ffc92,_0x2904d9){return _0x1ffc92(_0x2904d9);},'Eetja':_0x542bd7(0x124),'ZrNWT':'chat','OpXnn':_0x542bd7(0x11a),'kZYBC':'group','YzwrH':_0x542bd7(0x133),'pevET':_0x542bd7(0x131),'NCexG':_0x542bd7(0x141),'RiSQH':_0x542bd7(0x150),'MTgjv':_0x542bd7(0x13f),'AGXpt':function(_0x4814ec,_0xf46564){return _0x4814ec===_0xf46564;}};var _0x342c01;let _0x532e60,_0x572478,_0x3ceb1;const _0x400afd=_0x113cb7['attrs']['id'],_0x5b1e2f=_0x113cb7[_0x542bd7(0x118)][_0x542bd7(0x142)],_0x3e3fab=_0x113cb7[_0x542bd7(0x118)][_0x542bd7(0x155)],_0x1f0fb2=_0x113cb7[_0x542bd7(0x118)][_0x542bd7(0x123)],_0x538689=_0x17d6fb=>(0x0,WABinary_1[_0x542bd7(0x15e)])(_0x17d6fb,_0x10283c),_0x3fac8e=_0x368e8e=>(0x0,WABinary_1[_0x542bd7(0x15e)])(_0x368e8e,_0x4032cb);if((0x0,WABinary_1[_0x542bd7(0x13a)])(_0x5b1e2f)||(0x0,WABinary_1[_0x542bd7(0x16a)])(_0x5b1e2f)){if(_0x1f0fb2&&!(0x0,WABinary_1[_0x542bd7(0x11f)])(_0x1f0fb2)){if(!_0x2dbdd4['ZZqeH'](_0x538689,_0x5b1e2f)&&!_0x2dbdd4['XXhhw'](_0x3fac8e,_0x5b1e2f))throw new boom_1[(_0x542bd7(0x148))](_0x2dbdd4[_0x542bd7(0x134)],{'data':_0x113cb7});_0x572478=_0x1f0fb2;}else _0x572478=_0x5b1e2f;_0x532e60=_0x2dbdd4['ZrNWT'],_0x3ceb1=_0x5b1e2f;}else{if((0x0,WABinary_1['isJidGroup'])(_0x5b1e2f)){if(!_0x3e3fab)throw new boom_1['Boom'](_0x2dbdd4[_0x542bd7(0x115)]);_0x532e60=_0x2dbdd4[_0x542bd7(0x128)],_0x3ceb1=_0x3e3fab,_0x572478=_0x5b1e2f;}else{if((0x0,WABinary_1['isJidBroadcast'])(_0x5b1e2f)){if(!_0x3e3fab)throw new boom_1['Boom'](_0x2dbdd4['OpXnn']);const _0x41e1cb=_0x2dbdd4[_0x542bd7(0x125)](_0x538689,_0x3e3fab);(0x0,WABinary_1['isJidStatusBroadcast'])(_0x5b1e2f)?_0x532e60=_0x41e1cb?_0x2dbdd4[_0x542bd7(0x13c)]:_0x2dbdd4[_0x542bd7(0x139)]:_0x532e60=_0x41e1cb?_0x2dbdd4['NCexG']:_0x2dbdd4[_0x542bd7(0x162)],_0x572478=_0x5b1e2f,_0x3ceb1=_0x3e3fab;}else{if((0x0,WABinary_1[_0x542bd7(0x159)])(_0x5b1e2f))_0x532e60=_0x2dbdd4[_0x542bd7(0x12a)],_0x572478=_0x5b1e2f,_0x3ceb1=_0x5b1e2f;else throw new boom_1['Boom'](_0x542bd7(0x15a),{'data':_0x113cb7});}}}const _0x3120c4=((0x0,WABinary_1[_0x542bd7(0x16a)])(_0x5b1e2f)?_0x3fac8e:_0x538689)(_0x113cb7[_0x542bd7(0x118)][_0x542bd7(0x155)]||_0x113cb7[_0x542bd7(0x118)][_0x542bd7(0x142)]),_0x1b2adf=_0x2dbdd4[_0x542bd7(0x151)](_0x342c01=_0x113cb7===null||_0x2dbdd4['AGXpt'](_0x113cb7,void 0x0)?void 0x0:_0x113cb7[_0x542bd7(0x118)],null)||_0x342c01===void 0x0?void 0x0:_0x342c01['notify'],_0x4b8872={'remoteJid':_0x572478,'fromMe':_0x3120c4,'id':_0x400afd,'participant':_0x3e3fab},_0x39dd73={'key':_0x4b8872,'messageTimestamp':+_0x113cb7[_0x542bd7(0x118)]['t'],'pushName':_0x1b2adf,'broadcast':(0x0,WABinary_1[_0x542bd7(0x12b)])(_0x5b1e2f)};return _0x4b8872[_0x542bd7(0x163)]&&(_0x39dd73[_0x542bd7(0x14e)]=WAProto_1['proto'][_0x542bd7(0x157)]['Status'][_0x542bd7(0x11c)]),{'fullMessage':_0x39dd73,'author':_0x3ceb1,'sender':_0x532e60===_0x2dbdd4[_0x542bd7(0x12e)]?_0x3ceb1:_0x572478};}function a1210_0x3d72(_0x2418c2,_0x2bc008){const _0x1c4f8d=a1210_0x1c4f();return a1210_0x3d72=function(_0x3d7287,_0x4c6276){_0x3d7287=_0x3d7287-0x115;let _0x18da50=_0x1c4f8d[_0x3d7287];return _0x18da50;},a1210_0x3d72(_0x2418c2,_0x2bc008);}function a1210_0x1c4f(){const _0x3832b4=['LUVqC','type','content','recipient','receipient\x20present,\x20but\x20msg\x20not\x20from\x20me','XXhhw','202432CyJNjQ','CIPHERTEXT','kZYBC','../WABinary','MTgjv','isJidBroadcast','message','tOuCi','ZrNWT','senderKeyDistributionMessage','YsgPk','other_status','244004NYEVCe','direct_peer_status','Eetja','isArray','proto','12yWgIrd','assign','pevET','isJidUser','263783OGdyIw','YzwrH','MISSING_KEYS_ERROR_TEXT','category','newsletter','deviceSentMessage','peer_broadcast','from','76013FZfSBE','defineProperty','decodeMessageNode','1191175nuDbML','FTmPv','Boom','hrIiS','Message','messageStubType','jsrXb','verified_name','status','NO_MESSAGE_FOUND_ERROR_TEXT','other_broadcast','AGXpt','plaintext','@hapi/boom','SFClJ','participant','verifiedName','WebMessageInfo','decryptMessage','isJidNewsletter','Unknown\x20message\x20type','StubType','decryptGroupMessage','Key\x20used\x20already\x20or\x20never\x20filled','areJidsSameUser','790dqraMA','enc','NACK_REASONS','RiSQH','fromMe','VerifiedNameCertificate','2007KexTYd','skmsg','unpadRandomMax16','messageStubParameters','./generics','isLidUser','52074DGlMjt','OpXnn','error','Details','attrs','7976dDeYSo','No\x20participant\x20in\x20group\x20message','decode','SERVER_ACK','pkmsg','6dbZQUH','isJidMetaIa'];a1210_0x1c4f=function(){return _0x3832b4;};return a1210_0x1c4f();}const decryptMessageNode=(_0x118fd0,_0x66531b,_0x56e813,_0x8708dc,_0x2bef19)=>{const _0x47178f=a1210_0x1efd41,_0x1f31fe={'jsrXb':function(_0x586cd3,_0x3aa427){return _0x586cd3!==_0x3aa427;},'FTmPv':_0x47178f(0x160),'SFClJ':_0x47178f(0x152),'YquPF':function(_0x410153,_0x567f54){return _0x410153 instanceof _0x567f54;},'PyXQO':_0x47178f(0x11d),'YsgPk':'msg','tOuCi':function(_0x160aa2,_0x59cf3a){return _0x160aa2===_0x59cf3a;},'LUVqC':function(_0x8b27b1,_0x2e695b){return _0x8b27b1===_0x2e695b;},'hrIiS':'failed\x20to\x20decrypt\x20message'},{fullMessage:_0x4684c0,author:_0x5cbe01,sender:_0x18f009}=decodeMessageNode(_0x118fd0,_0x66531b,_0x56e813);return{'fullMessage':_0x4684c0,'category':_0x118fd0[_0x47178f(0x118)][_0x47178f(0x13e)],'author':_0x5cbe01,async 'decrypt'(){const _0x343053=_0x47178f;var _0x24e517;let _0xfcaf2f=0x0;if(Array[_0x343053(0x135)](_0x118fd0['content']))for(const {tag:_0x32c7d8,attrs:_0x4941d7,content:_0x23bf35}of _0x118fd0[_0x343053(0x122)]){if(_0x32c7d8===_0x343053(0x14d)&&_0x23bf35 instanceof Uint8Array){const _0x30c8fa=WAProto_1[_0x343053(0x136)][_0x343053(0x164)][_0x343053(0x11b)](_0x23bf35),_0x2494ac=WAProto_1[_0x343053(0x136)][_0x343053(0x164)][_0x343053(0x117)][_0x343053(0x11b)](_0x30c8fa['details']);_0x4684c0['verifiedBizName']=_0x2494ac[_0x343053(0x156)];}if(_0x1f31fe[_0x343053(0x14c)](_0x32c7d8,_0x1f31fe[_0x343053(0x147)])&&_0x1f31fe['jsrXb'](_0x32c7d8,_0x1f31fe[_0x343053(0x154)]))continue;if(!_0x1f31fe['YquPF'](_0x23bf35,Uint8Array))continue;_0xfcaf2f+=0x1;let _0x42f2a7;try{const _0x373dcf=_0x32c7d8===_0x1f31fe[_0x343053(0x154)]?_0x1f31fe[_0x343053(0x154)]:_0x4941d7[_0x343053(0x121)];switch(_0x373dcf){case _0x343053(0x166):_0x42f2a7=await _0x8708dc[_0x343053(0x15c)]({'group':_0x18f009,'authorJid':_0x5cbe01,'msg':_0x23bf35});break;case _0x1f31fe['PyXQO']:case _0x1f31fe[_0x343053(0x130)]:const _0x427cda=(0x0,WABinary_1[_0x343053(0x13a)])(_0x18f009)?_0x18f009:_0x5cbe01;_0x42f2a7=await _0x8708dc[_0x343053(0x158)]({'jid':_0x427cda,'type':_0x373dcf,'ciphertext':_0x23bf35});break;case _0x1f31fe[_0x343053(0x154)]:_0x42f2a7=_0x23bf35;break;default:throw new Error('Unknown\x20e2e\x20type:\x20'+_0x373dcf);}let _0x43716f=WAProto_1[_0x343053(0x136)][_0x343053(0x14a)]['decode'](_0x373dcf!==_0x1f31fe[_0x343053(0x154)]?(0x0,generics_1[_0x343053(0x167)])(_0x42f2a7):_0x42f2a7);_0x43716f=(_0x1f31fe[_0x343053(0x12d)](_0x24e517=_0x43716f[_0x343053(0x140)],null)||_0x1f31fe[_0x343053(0x120)](_0x24e517,void 0x0)?void 0x0:_0x24e517[_0x343053(0x12c)])||_0x43716f;if(_0x43716f[_0x343053(0x12f)])try{await _0x8708dc['processSenderKeyDistributionMessage']({'authorJid':_0x5cbe01,'item':_0x43716f[_0x343053(0x12f)]});}catch(_0x35d30e){_0x2bef19[_0x343053(0x116)]({'key':_0x4684c0['key'],'err':_0x35d30e},_0x1f31fe[_0x343053(0x149)]);}_0x4684c0[_0x343053(0x12c)]?Object[_0x343053(0x138)](_0x4684c0['message'],_0x43716f):_0x4684c0[_0x343053(0x12c)]=_0x43716f;}catch(_0x5441f6){_0x2bef19[_0x343053(0x116)]({'key':_0x4684c0['key'],'err':_0x5441f6},_0x1f31fe[_0x343053(0x149)]),_0x4684c0[_0x343053(0x14b)]=WAProto_1[_0x343053(0x136)][_0x343053(0x157)][_0x343053(0x15b)]['CIPHERTEXT'],_0x4684c0[_0x343053(0x168)]=[_0x5441f6[_0x343053(0x12c)]];}}!_0xfcaf2f&&(_0x4684c0['messageStubType']=WAProto_1[_0x343053(0x136)][_0x343053(0x157)][_0x343053(0x15b)][_0x343053(0x127)],_0x4684c0[_0x343053(0x168)]=[exports['NO_MESSAGE_FOUND_ERROR_TEXT']]);}};};exports['decryptMessageNode']=decryptMessageNode;