'use strict';function a1211_0x3ca4(){const _0xb8910e=['oLTuo','uvCCr','pYICX','LTCbQ','isLatest','message','length','./process-message','chatUpserts','xnHoS','FlXvL','messages.reaction','READ','message-receipt.update','messageUpdates','contacts.update','absorbed\x20chat\x20update\x20in\x20existing\x20chat','bdfGl','iWjct','type','uWhJc','eVJlT','messageReactions','trace','KfBFN','key','updateMessageWithReaction','messageReceipts','historySets','off','../Types','isRealMessage','XAoSf','conditional','syncType','groups.update','values','256156Fgmgpn','3787btnLlo','contactUpdates','fromMe','trimUndefined','default','messages','BaarX','messaging-history.set','messageTimestamp','481255WIBZQQ','contacts.upsert','absorbed\x20chat\x20upsert\x20in\x20chat\x20set','contactUpserts','endOfHistoryTransferType','unreadCount','./generics','gJNJA','jJukE','update','status','chatUpdates','aSljZ','__esModule','KkRDl','empty','events','has','npcHF','QoCXM','loWhW','15daNyny','2514WMSBVw','debug','contacts','map','WZRPL','1759135JjQvFE','makeEventBuffer','eSrck','messages.upsert','qMMev','2587728gAkxTz','awLaA','jsjhi','MkQvF','gccRJ','HnHKi','chats.upsert','chats.delete','peerDataRequestSessionId','__importDefault','zimQv','name','released\x20buffered\x20events','KVKjZ','notify','verifiedName','updateMessageWithReceipt','CJFgb','flatMap','NHGcO','keys','messageDeletes','remoteJid','defineProperty','49624MMCDBw','NBOip','delete','groupUpdates','absorbed\x20contact\x20upsert\x20in\x20contact\x20set','chat\x20update\x20condition\x20fail,\x20removing','myCoy','add','absorbed\x20prior\x20message\x20update\x20in\x20message\x20upsert','from','emit','chats','HWyDs','chatDeletes','3741687Tibtgj','./messages','chats.update','assign','event','messageUpserts','absorbed\x20message\x20upsert\x20in\x20message\x20set','progress','messages.update','\x22\x20cannot\x20be\x20buffered','messages.delete','IBOZx','number','shouldIncrementChatUnread'];a1211_0x3ca4=function(){return _0xb8910e;};return a1211_0x3ca4();}const a1211_0x4653e7=a1211_0x23a3;(function(_0x6e3486,_0x4b7d67){const _0x4536a0=a1211_0x23a3,_0x5846a7=_0x6e3486();while(!![]){try{const _0x255b6e=-parseInt(_0x4536a0(0x1c1))/0x1+parseInt(_0x4536a0(0x1f9))/0x2+parseInt(_0x4536a0(0x1d6))/0x3*(parseInt(_0x4536a0(0x23a))/0x4)+parseInt(_0x4536a0(0x1dc))/0x5+-parseInt(_0x4536a0(0x1d7))/0x6*(-parseInt(_0x4536a0(0x23b))/0x7)+parseInt(_0x4536a0(0x1e1))/0x8+-parseInt(_0x4536a0(0x207))/0x9;if(_0x255b6e===_0x4b7d67)break;else _0x5846a7['push'](_0x5846a7['shift']());}catch(_0x4375c6){_0x5846a7['push'](_0x5846a7['shift']());}}}(a1211_0x3ca4,0x5571d));function a1211_0x23a3(_0x5822e5,_0x246e93){const _0x3ca4ed=a1211_0x3ca4();return a1211_0x23a3=function(_0x23a3f4,_0x32ee7b){_0x23a3f4=_0x23a3f4-0x1c0;let _0x3d370a=_0x3ca4ed[_0x23a3f4];return _0x3d370a;},a1211_0x23a3(_0x5822e5,_0x246e93);}var __importDefault=this&&this[a1211_0x4653e7(0x1ea)]||function(_0x4e7637){const _0x22a656=a1211_0x4653e7;return _0x4e7637&&_0x4e7637[_0x22a656(0x1ce)]?_0x4e7637:{'default':_0x4e7637};};Object[a1211_0x4653e7(0x1f8)](exports,'__esModule',{'value':!![]}),exports[a1211_0x4653e7(0x1dd)]=void 0x0;const events_1=__importDefault(require(a1211_0x4653e7(0x1d1))),Types_1=require(a1211_0x4653e7(0x233)),generics_1=require(a1211_0x4653e7(0x1c7)),messages_1=require(a1211_0x4653e7(0x208)),process_message_1=require(a1211_0x4653e7(0x21c)),BUFFERABLE_EVENT=['messaging-history.set',a1211_0x4653e7(0x1e7),a1211_0x4653e7(0x209),a1211_0x4653e7(0x1e8),a1211_0x4653e7(0x1c2),'contacts.update',a1211_0x4653e7(0x1df),a1211_0x4653e7(0x20f),a1211_0x4653e7(0x211),a1211_0x4653e7(0x220),a1211_0x4653e7(0x222),'groups.update'],BUFFERABLE_EVENT_SET=new Set(BUFFERABLE_EVENT),makeEventBuffer=_0x462898=>{const _0x2e5f56=a1211_0x4653e7,_0x35c69b={'qDsMx':function(_0x2d6356,_0x3f4130){return _0x2d6356(_0x3f4130);},'KkRDl':_0x2e5f56(0x20b),'NBOip':function(_0x4f235f,_0x14ca27,_0x57a96e,_0x4afa8f,_0x33c3a8,_0x38e985){return _0x4f235f(_0x14ca27,_0x57a96e,_0x4afa8f,_0x33c3a8,_0x38e985);},'HWyDs':function(_0x23e5f0,_0x5b3043){return _0x23e5f0>_0x5b3043;},'HnHKi':function(_0x160022,..._0x3d016f){return _0x160022(..._0x3d016f);}},_0x348918=new events_1[(_0x2e5f56(0x23f))](),_0x5be9f2=new Set();let _0x492643=makeBufferData(),_0x3ea7da=0x0;_0x348918['on'](_0x35c69b[_0x2e5f56(0x1cf)],_0x11904b=>{const _0x24b65a=_0x2e5f56;for(const _0x2f0fcb in _0x11904b){_0x348918[_0x24b65a(0x203)](_0x2f0fcb,_0x11904b[_0x2f0fcb]);}});function _0x54a722(){_0x3ea7da+=0x1;}function _0x6806b9(_0x57eee3=![]){const _0x1abecf=_0x2e5f56;if(!_0x3ea7da)return![];if(!_0x57eee3){_0x3ea7da-=0x1;if(_0x3ea7da)return![];}const _0x20f83d=makeBufferData(),_0xb27324=Object['values'](_0x492643[_0x1abecf(0x1cc)]);let _0x19f344=0x0;for(const _0x2b911b of _0xb27324){_0x2b911b[_0x1abecf(0x236)]&&(_0x19f344+=0x1,_0x20f83d[_0x1abecf(0x1cc)][_0x2b911b['id']]=_0x2b911b,delete _0x492643[_0x1abecf(0x1cc)][_0x2b911b['id']]);}const _0x188909=_0x35c69b['qDsMx'](consolidateEvents,_0x492643);return Object[_0x1abecf(0x1f5)](_0x188909)[_0x1abecf(0x21b)]&&_0x348918[_0x1abecf(0x203)](_0x35c69b['KkRDl'],_0x188909),_0x492643=_0x20f83d,_0x462898[_0x1abecf(0x22c)]({'conditionalChatUpdatesLeft':_0x19f344},_0x1abecf(0x1ed)),!![];}return{'process'(_0x14cfcc){const _0x98186=_0x2e5f56,_0x86943d={'KfBFN':_0x35c69b['KkRDl']},_0x59d460=_0x22a8b1=>{_0x14cfcc(_0x22a8b1);};return _0x348918['on'](_0x35c69b[_0x98186(0x1cf)],_0x59d460),()=>{const _0x8452c=_0x98186;_0x348918['off'](_0x86943d[_0x8452c(0x22d)],_0x59d460);};},'emit'(_0x3bca13,_0x2ba962){const _0x131666=_0x2e5f56;if(_0x3ea7da&&BUFFERABLE_EVENT_SET[_0x131666(0x1d2)](_0x3bca13))return _0x35c69b[_0x131666(0x1fa)](append,_0x492643,_0x5be9f2,_0x3bca13,_0x2ba962,_0x462898),!![];return _0x348918[_0x131666(0x203)](_0x35c69b['KkRDl'],{[_0x3bca13]:_0x2ba962});},'isBuffering'(){const _0x26e31c=_0x2e5f56;return _0x35c69b[_0x26e31c(0x205)](_0x3ea7da,0x0);},'buffer':_0x54a722,'flush':_0x6806b9,'createBufferedFunction'(_0x5d9771){const _0x4bb37b={'pEAGf':function(_0x30d9d0){return _0x30d9d0();},'SpvPM':function(_0x38175d,..._0x44ef4a){const _0x160511=a1211_0x23a3;return _0x35c69b[_0x160511(0x1e6)](_0x38175d,..._0x44ef4a);},'pYICX':function(_0x59ca70){return _0x59ca70();}};return async(..._0x41627a)=>{const _0x5eee07=a1211_0x23a3;_0x4bb37b['pEAGf'](_0x54a722);try{const _0x67d190=await _0x4bb37b['SpvPM'](_0x5d9771,..._0x41627a);return _0x67d190;}finally{_0x4bb37b[_0x5eee07(0x217)](_0x6806b9);}};},'on':(..._0x15b672)=>_0x348918['on'](..._0x15b672),'off':(..._0x3fcd10)=>_0x348918[_0x2e5f56(0x232)](..._0x3fcd10),'removeAllListeners':(..._0x3e8c7a)=>_0x348918['removeAllListeners'](..._0x3e8c7a)};};exports[a1211_0x4653e7(0x1dd)]=makeEventBuffer;const makeBufferData=()=>{return{'historySets':{'chats':{},'messages':{},'contacts':{},'isLatest':![],'empty':!![]},'chatUpserts':{},'chatUpdates':{},'chatDeletes':new Set(),'contactUpserts':{},'contactUpdates':{},'messageUpserts':{},'messageUpdates':{},'messageReactions':{},'messageDeletes':{},'messageReceipts':{},'groupUpdates':{}};};function append(_0x165c81,_0x5cbbbe,_0x119e17,_0x4971ed,_0x5205b7){const _0x3a36c1=a1211_0x4653e7,_0x838142={'gZggn':_0x3a36c1(0x225),'QoCXM':function(_0x1ae43c,_0x3201ca){return _0x1ae43c===_0x3201ca;},'FlXvL':'number','BaarX':function(_0x6d6e03,_0x241f52){return _0x6d6e03>_0x241f52;},'aKFdR':'decrementing\x20chat\x20counter','eSrck':_0x3a36c1(0x242),'KVKjZ':function(_0x145176,_0x1492ce){return _0x145176(_0x1492ce);},'OraAP':'chats.upsert','gJNJA':function(_0xf82e5d,_0x1e149b,_0x188936){return _0xf82e5d(_0x1e149b,_0x188936);},'bdfGl':_0x3a36c1(0x209),'MkQvF':_0x3a36c1(0x1e8),'NHGcO':_0x3a36c1(0x224),'LTCbQ':function(_0x13e89e,_0x2a4dba){return _0x13e89e(_0x2a4dba);},'IBOZx':_0x3a36c1(0x20d),'bAOXN':_0x3a36c1(0x201),'uWhJc':_0x3a36c1(0x1ef),'aSljZ':function(_0x5a00a8,_0x1db41f){return _0x5a00a8===_0x1db41f;},'PgnDI':_0x3a36c1(0x20f),'jsjhi':function(_0x2cf0c0,_0x4f104a){return _0x2cf0c0(_0x4f104a);},'WZRPL':function(_0x431458,_0x31c28d){return _0x431458(_0x31c28d);},'BHffS':function(_0x465ef7,_0x1fd36d){return _0x465ef7 in _0x1fd36d;},'fHHhl':'keys','awLaA':function(_0x572bc7,_0x4af4ed){return _0x572bc7(_0x4af4ed);},'xnHoS':_0x3a36c1(0x220),'loWhW':'message-receipt.update','uvCCr':_0x3a36c1(0x238)};var _0x7aba91,_0x3caac9,_0x2f7555;switch(_0x119e17){case _0x838142[_0x3a36c1(0x1de)]:for(const _0x5ed961 of _0x4971ed[_0x3a36c1(0x204)]){const _0x173c23=_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x204)][_0x5ed961['id']];_0x173c23&&(_0x173c23['endOfHistoryTransferType']=_0x5ed961[_0x3a36c1(0x1c5)]),!_0x173c23&&!_0x5cbbbe['has'](_0x5ed961['id'])&&(_0x165c81['historySets']['chats'][_0x5ed961['id']]=_0x5ed961,_0x5cbbbe[_0x3a36c1(0x200)](_0x5ed961['id']),_0x838142[_0x3a36c1(0x1ee)](_0x4dddeb,_0x5ed961));}for(const _0x40ffc0 of _0x4971ed[_0x3a36c1(0x1d9)]){const _0x380ee4=_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x1d9)][_0x40ffc0['id']];if(_0x380ee4)Object[_0x3a36c1(0x20a)](_0x380ee4,(0x0,generics_1[_0x3a36c1(0x23e)])(_0x40ffc0));else{const _0x24f7ba='c:'+_0x40ffc0['id'],_0x53471a=_0x40ffc0[_0x3a36c1(0x1ef)]||_0x40ffc0[_0x3a36c1(0x1ec)]||_0x40ffc0[_0x3a36c1(0x1f0)];(!_0x5cbbbe[_0x3a36c1(0x1d2)](_0x24f7ba)||_0x53471a)&&(_0x165c81['historySets'][_0x3a36c1(0x1d9)][_0x40ffc0['id']]=_0x40ffc0,_0x5cbbbe['add'](_0x24f7ba));}}for(const _0x53ef04 of _0x4971ed[_0x3a36c1(0x240)]){const _0x59572a=stringifyMessageKey(_0x53ef04[_0x3a36c1(0x22e)]),_0x148aca=_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x240)][_0x59572a];!_0x148aca&&!_0x5cbbbe[_0x3a36c1(0x1d2)](_0x59572a)&&(_0x165c81['historySets'][_0x3a36c1(0x240)][_0x59572a]=_0x53ef04,_0x5cbbbe[_0x3a36c1(0x200)](_0x59572a));}_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x1d0)]=![],_0x165c81[_0x3a36c1(0x231)]['syncType']=_0x4971ed[_0x3a36c1(0x237)],_0x165c81['historySets'][_0x3a36c1(0x20e)]=_0x4971ed[_0x3a36c1(0x20e)],_0x165c81['historySets']['peerDataRequestSessionId']=_0x4971ed['peerDataRequestSessionId'],_0x165c81['historySets'][_0x3a36c1(0x219)]=_0x4971ed[_0x3a36c1(0x219)]||_0x165c81[_0x3a36c1(0x231)]['isLatest'];break;case _0x838142['OraAP']:for(const _0x2ddaa9 of _0x4971ed){let _0x5a27df=_0x165c81[_0x3a36c1(0x21d)][_0x2ddaa9['id']];!_0x5a27df&&(_0x5a27df=_0x165c81[_0x3a36c1(0x231)][_0x2ddaa9['id']],_0x5a27df&&_0x5205b7['debug']({'chatId':_0x2ddaa9['id']},_0x3a36c1(0x1c3))),_0x5a27df?_0x5a27df=_0x838142[_0x3a36c1(0x1c8)](concatChats,_0x5a27df,_0x2ddaa9):(_0x5a27df=_0x2ddaa9,_0x165c81['chatUpserts'][_0x2ddaa9['id']]=_0x5a27df),_0x4dddeb(_0x5a27df),_0x165c81[_0x3a36c1(0x206)][_0x3a36c1(0x1d2)](_0x2ddaa9['id'])&&_0x165c81[_0x3a36c1(0x206)]['delete'](_0x2ddaa9['id']);}break;case _0x838142[_0x3a36c1(0x226)]:for(const _0x44eeff of _0x4971ed){const _0x4dadc7=_0x44eeff['id'],_0x157a83=_0x44eeff[_0x3a36c1(0x236)]?_0x44eeff[_0x3a36c1(0x236)](_0x165c81):!![];if(_0x157a83){delete _0x44eeff[_0x3a36c1(0x236)];const _0x1b889c=_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x204)][_0x4dadc7]||_0x165c81[_0x3a36c1(0x21d)][_0x4dadc7];if(_0x1b889c)_0x838142['gJNJA'](concatChats,_0x1b889c,_0x44eeff);else{const _0x31f679=_0x165c81[_0x3a36c1(0x1cc)][_0x4dadc7]||{};_0x165c81[_0x3a36c1(0x1cc)][_0x4dadc7]=_0x838142['gJNJA'](concatChats,_0x31f679,_0x44eeff);}}else _0x838142[_0x3a36c1(0x1d4)](_0x157a83,undefined)&&(_0x165c81[_0x3a36c1(0x1cc)][_0x4dadc7]=_0x44eeff);_0x165c81[_0x3a36c1(0x206)][_0x3a36c1(0x1d2)](_0x4dadc7)&&_0x165c81[_0x3a36c1(0x206)][_0x3a36c1(0x1fb)](_0x4dadc7);}break;case _0x838142[_0x3a36c1(0x1e4)]:for(const _0x5cab2a of _0x4971ed){!_0x165c81[_0x3a36c1(0x206)][_0x3a36c1(0x1d2)](_0x5cab2a)&&_0x165c81[_0x3a36c1(0x206)][_0x3a36c1(0x200)](_0x5cab2a),_0x165c81[_0x3a36c1(0x1cc)][_0x5cab2a]&&delete _0x165c81[_0x3a36c1(0x1cc)][_0x5cab2a],_0x165c81[_0x3a36c1(0x21d)][_0x5cab2a]&&delete _0x165c81[_0x3a36c1(0x21d)][_0x5cab2a],_0x165c81[_0x3a36c1(0x231)]['chats'][_0x5cab2a]&&delete _0x165c81[_0x3a36c1(0x231)]['chats'][_0x5cab2a];}break;case _0x3a36c1(0x1c2):for(const _0x1093ad of _0x4971ed){let _0x5788de=_0x165c81[_0x3a36c1(0x1c4)][_0x1093ad['id']];!_0x5788de&&(_0x5788de=_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x1d9)][_0x1093ad['id']],_0x5788de&&_0x5205b7['debug']({'contactId':_0x1093ad['id']},_0x3a36c1(0x1fd))),_0x5788de?_0x5788de=Object[_0x3a36c1(0x20a)](_0x5788de,(0x0,generics_1[_0x3a36c1(0x23e)])(_0x1093ad)):(_0x5788de=_0x1093ad,_0x165c81[_0x3a36c1(0x1c4)][_0x1093ad['id']]=_0x5788de),_0x165c81[_0x3a36c1(0x23c)][_0x1093ad['id']]&&(_0x5788de=Object[_0x3a36c1(0x20a)](_0x165c81['contactUpdates'][_0x1093ad['id']],(0x0,generics_1[_0x3a36c1(0x23e)])(_0x1093ad)),delete _0x165c81[_0x3a36c1(0x23c)][_0x1093ad['id']]);}break;case _0x838142[_0x3a36c1(0x1f4)]:const _0x25778e=_0x4971ed;for(const _0x1e14f9 of _0x25778e){const _0x369eaa=_0x1e14f9['id'],_0x32ad1c=_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x1d9)][_0x369eaa]||_0x165c81[_0x3a36c1(0x1c4)][_0x369eaa];if(_0x32ad1c)Object['assign'](_0x32ad1c,_0x1e14f9);else{const _0x1d9a0c=_0x165c81[_0x3a36c1(0x23c)][_0x369eaa]||{};_0x165c81[_0x3a36c1(0x23c)][_0x369eaa]=Object[_0x3a36c1(0x20a)](_0x1d9a0c,_0x1e14f9);}}break;case _0x3a36c1(0x1df):const {messages:_0x5bb23f,type:_0x41560d}=_0x4971ed;for(const _0x4adb43 of _0x5bb23f){const _0xb3b9a2=_0x838142[_0x3a36c1(0x218)](stringifyMessageKey,_0x4adb43[_0x3a36c1(0x22e)]);let _0x6b9414=(_0x7aba91=_0x165c81[_0x3a36c1(0x20c)][_0xb3b9a2])===null||_0x7aba91===void 0x0?void 0x0:_0x7aba91[_0x3a36c1(0x21a)];!_0x6b9414&&(_0x6b9414=_0x165c81[_0x3a36c1(0x231)]['messages'][_0xb3b9a2],_0x6b9414&&_0x5205b7[_0x3a36c1(0x1d8)]({'messageId':_0xb3b9a2},_0x838142[_0x3a36c1(0x212)])),_0x6b9414&&(_0x4adb43[_0x3a36c1(0x1c0)]=_0x6b9414[_0x3a36c1(0x1c0)]),_0x165c81[_0x3a36c1(0x223)][_0xb3b9a2]&&(_0x5205b7[_0x3a36c1(0x1d8)](_0x838142['bAOXN']),Object[_0x3a36c1(0x20a)](_0x4adb43,_0x165c81[_0x3a36c1(0x223)][_0xb3b9a2]['update']),delete _0x165c81[_0x3a36c1(0x223)][_0xb3b9a2]),_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x240)][_0xb3b9a2]?_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x240)][_0xb3b9a2]=_0x4adb43:_0x165c81[_0x3a36c1(0x20c)][_0xb3b9a2]={'message':_0x4adb43,'type':_0x41560d===_0x838142[_0x3a36c1(0x229)]||((_0x3caac9=_0x165c81[_0x3a36c1(0x20c)][_0xb3b9a2])===null||_0x838142[_0x3a36c1(0x1cd)](_0x3caac9,void 0x0)?void 0x0:_0x3caac9[_0x3a36c1(0x228)])===_0x3a36c1(0x1ef)?_0x838142['uWhJc']:_0x41560d};}break;case _0x838142['PgnDI']:const _0x4ef487=_0x4971ed;for(const {key:_0x26a2f7,update:_0x4d86fd}of _0x4ef487){const _0x485a08=_0x838142[_0x3a36c1(0x1e3)](stringifyMessageKey,_0x26a2f7),_0x3ac310=_0x165c81[_0x3a36c1(0x231)][_0x3a36c1(0x240)][_0x485a08]||((_0x2f7555=_0x165c81['messageUpserts'][_0x485a08])===null||_0x838142[_0x3a36c1(0x1cd)](_0x2f7555,void 0x0)?void 0x0:_0x2f7555['message']);if(_0x3ac310)Object[_0x3a36c1(0x20a)](_0x3ac310,_0x4d86fd),_0x838142[_0x3a36c1(0x1d4)](_0x4d86fd[_0x3a36c1(0x1cb)],Types_1['WAMessageStatus'][_0x3a36c1(0x221)])&&!_0x26a2f7[_0x3a36c1(0x23d)]&&_0x838142[_0x3a36c1(0x1db)](_0x3f4d50,_0x3ac310);else{const _0x11fed8=_0x165c81[_0x3a36c1(0x223)][_0x485a08]||{'key':_0x26a2f7,'update':{}};Object['assign'](_0x11fed8[_0x3a36c1(0x1ca)],_0x4d86fd),_0x165c81[_0x3a36c1(0x223)][_0x485a08]=_0x11fed8;}}break;case'messages.delete':const _0x8f3d17=_0x4971ed;if(_0x838142['BHffS'](_0x838142['fHHhl'],_0x8f3d17)){const {keys:_0x3656e7}=_0x8f3d17;for(const _0x1cac68 of _0x3656e7){const _0x2ebe70=_0x838142[_0x3a36c1(0x1e2)](stringifyMessageKey,_0x1cac68);!_0x165c81[_0x3a36c1(0x1f6)][_0x2ebe70]&&(_0x165c81[_0x3a36c1(0x1f6)][_0x2ebe70]=_0x1cac68),_0x165c81[_0x3a36c1(0x20c)][_0x2ebe70]&&delete _0x165c81['messageUpserts'][_0x2ebe70],_0x165c81['messageUpdates'][_0x2ebe70]&&delete _0x165c81[_0x3a36c1(0x223)][_0x2ebe70];}}else{}break;case _0x838142[_0x3a36c1(0x21e)]:const _0x335d03=_0x4971ed;for(const {key:_0x1030ff,reaction:_0x3e8784}of _0x335d03){const _0x4b2045=_0x838142[_0x3a36c1(0x218)](stringifyMessageKey,_0x1030ff),_0x1a898c=_0x165c81[_0x3a36c1(0x20c)][_0x4b2045];_0x1a898c?(0x0,messages_1[_0x3a36c1(0x22f)])(_0x1a898c['message'],_0x3e8784):(_0x165c81[_0x3a36c1(0x22b)][_0x4b2045]=_0x165c81[_0x3a36c1(0x22b)][_0x4b2045]||{'key':_0x1030ff,'reactions':[]},(0x0,messages_1[_0x3a36c1(0x22f)])(_0x165c81[_0x3a36c1(0x22b)][_0x4b2045],_0x3e8784));}break;case _0x838142[_0x3a36c1(0x1d5)]:const _0x4e5b8a=_0x4971ed;for(const {key:_0x2e040e,receipt:_0x2673f4}of _0x4e5b8a){const _0x199391=stringifyMessageKey(_0x2e040e),_0x372598=_0x165c81[_0x3a36c1(0x20c)][_0x199391];_0x372598?(0x0,messages_1[_0x3a36c1(0x1f1)])(_0x372598[_0x3a36c1(0x21a)],_0x2673f4):(_0x165c81[_0x3a36c1(0x230)][_0x199391]=_0x165c81[_0x3a36c1(0x230)][_0x199391]||{'key':_0x2e040e,'userReceipt':[]},(0x0,messages_1[_0x3a36c1(0x1f1)])(_0x165c81[_0x3a36c1(0x230)][_0x199391],_0x2673f4));}break;case _0x838142[_0x3a36c1(0x216)]:const _0x14c048=_0x4971ed;for(const _0xf2e853 of _0x14c048){const _0x25b446=_0xf2e853['id'],_0x450e4d=_0x165c81[_0x3a36c1(0x1fc)][_0x25b446]||{};!_0x165c81[_0x3a36c1(0x1fc)][_0x25b446]&&(_0x165c81[_0x3a36c1(0x1fc)][_0x25b446]=Object[_0x3a36c1(0x20a)](_0x450e4d,_0xf2e853));}break;default:throw new Error('\x22'+_0x119e17+_0x3a36c1(0x210));}function _0x4dddeb(_0x29ade6){const _0x557440=_0x3a36c1,_0x2dbdd2=_0x29ade6['id'],_0x222187=_0x165c81[_0x557440(0x1cc)][_0x2dbdd2];if(_0x222187){const _0x3387bd=_0x222187['conditional']?_0x222187[_0x557440(0x236)](_0x165c81):!![];if(_0x3387bd)delete _0x222187[_0x557440(0x236)],_0x5205b7[_0x557440(0x1d8)]({'chatId':_0x2dbdd2},_0x838142['gZggn']),Object[_0x557440(0x20a)](_0x29ade6,concatChats(_0x222187,_0x29ade6)),delete _0x165c81[_0x557440(0x1cc)][_0x2dbdd2];else _0x838142['QoCXM'](_0x3387bd,![])&&(_0x5205b7['debug']({'chatId':_0x2dbdd2},_0x557440(0x1fe)),delete _0x165c81[_0x557440(0x1cc)][_0x2dbdd2]);}}function _0x3f4d50(_0x1f7f4d){const _0x2b3da8=_0x3a36c1,_0x46c268=_0x1f7f4d[_0x2b3da8(0x22e)][_0x2b3da8(0x1f7)],_0x5434e5=_0x165c81['chatUpdates'][_0x46c268]||_0x165c81[_0x2b3da8(0x21d)][_0x46c268];(0x0,process_message_1[_0x2b3da8(0x234)])(_0x1f7f4d,'')&&(0x0,process_message_1[_0x2b3da8(0x214)])(_0x1f7f4d)&&typeof(_0x838142['QoCXM'](_0x5434e5,null)||_0x838142[_0x2b3da8(0x1d4)](_0x5434e5,void 0x0)?void 0x0:_0x5434e5[_0x2b3da8(0x1c6)])===_0x838142[_0x2b3da8(0x21f)]&&_0x838142[_0x2b3da8(0x241)](_0x5434e5[_0x2b3da8(0x1c6)],0x0)&&(_0x5205b7[_0x2b3da8(0x1d8)]({'chatId':_0x5434e5['id']},_0x838142['aKFdR']),_0x5434e5[_0x2b3da8(0x1c6)]-=0x1,_0x838142[_0x2b3da8(0x1d4)](_0x5434e5[_0x2b3da8(0x1c6)],0x0)&&delete _0x5434e5[_0x2b3da8(0x1c6)]);}}function consolidateEvents(_0x108a6c){const _0x1241cf=a1211_0x4653e7,_0x46ac2e={'jJukE':_0x1241cf(0x242),'yQONd':_0x1241cf(0x1e7),'tgqBc':_0x1241cf(0x209),'myCoy':_0x1241cf(0x1e8),'XAoSf':'messages.upsert','npcHF':_0x1241cf(0x20f),'qMMev':_0x1241cf(0x220),'qVEwM':_0x1241cf(0x222),'eVJlT':_0x1241cf(0x1c2),'gccRJ':_0x1241cf(0x224),'CJFgb':'groups.update'},_0x144aa9={};!_0x108a6c[_0x1241cf(0x231)][_0x1241cf(0x1d0)]&&(_0x144aa9[_0x46ac2e[_0x1241cf(0x1c9)]]={'chats':Object['values'](_0x108a6c[_0x1241cf(0x231)][_0x1241cf(0x204)]),'messages':Object[_0x1241cf(0x239)](_0x108a6c['historySets'][_0x1241cf(0x240)]),'contacts':Object[_0x1241cf(0x239)](_0x108a6c[_0x1241cf(0x231)]['contacts']),'syncType':_0x108a6c['historySets'][_0x1241cf(0x237)],'progress':_0x108a6c['historySets']['progress'],'isLatest':_0x108a6c[_0x1241cf(0x231)][_0x1241cf(0x219)],'peerDataRequestSessionId':_0x108a6c[_0x1241cf(0x231)][_0x1241cf(0x1e9)]});const _0x5d891f=Object['values'](_0x108a6c[_0x1241cf(0x21d)]);_0x5d891f[_0x1241cf(0x21b)]&&(_0x144aa9[_0x46ac2e['yQONd']]=_0x5d891f);const _0x396691=Object['values'](_0x108a6c[_0x1241cf(0x1cc)]);_0x396691['length']&&(_0x144aa9[_0x46ac2e['tgqBc']]=_0x396691);const _0x56cbbf=Array[_0x1241cf(0x202)](_0x108a6c[_0x1241cf(0x206)]);_0x56cbbf['length']&&(_0x144aa9[_0x46ac2e[_0x1241cf(0x1ff)]]=_0x56cbbf);const _0x4ed072=Object[_0x1241cf(0x239)](_0x108a6c[_0x1241cf(0x20c)]);if(_0x4ed072[_0x1241cf(0x21b)]){const _0x264885=_0x4ed072[0x0][_0x1241cf(0x228)];_0x144aa9[_0x46ac2e[_0x1241cf(0x235)]]={'messages':_0x4ed072[_0x1241cf(0x1da)](_0x59c031=>_0x59c031['message']),'type':_0x264885};}const _0x116cd6=Object[_0x1241cf(0x239)](_0x108a6c[_0x1241cf(0x223)]);_0x116cd6[_0x1241cf(0x21b)]&&(_0x144aa9[_0x46ac2e[_0x1241cf(0x1d3)]]=_0x116cd6);const _0x2e1a32=Object[_0x1241cf(0x239)](_0x108a6c['messageDeletes']);_0x2e1a32[_0x1241cf(0x21b)]&&(_0x144aa9[_0x1241cf(0x211)]={'keys':_0x2e1a32});const _0x15d662=Object['values'](_0x108a6c[_0x1241cf(0x22b)])[_0x1241cf(0x1f3)](({key:_0xdebeee,reactions:_0x12c67b})=>_0x12c67b[_0x1241cf(0x1f3)](_0x33de86=>({'key':_0xdebeee,'reaction':_0x33de86})));_0x15d662['length']&&(_0x144aa9[_0x46ac2e[_0x1241cf(0x1e0)]]=_0x15d662);const _0x49ebd3=Object[_0x1241cf(0x239)](_0x108a6c[_0x1241cf(0x230)])[_0x1241cf(0x1f3)](({key:_0x88241f,userReceipt:_0x5113c6})=>_0x5113c6['flatMap'](_0x37c7bf=>({'key':_0x88241f,'receipt':_0x37c7bf})));_0x49ebd3[_0x1241cf(0x21b)]&&(_0x144aa9[_0x46ac2e['qVEwM']]=_0x49ebd3);const _0x192675=Object[_0x1241cf(0x239)](_0x108a6c[_0x1241cf(0x1c4)]);_0x192675[_0x1241cf(0x21b)]&&(_0x144aa9[_0x46ac2e[_0x1241cf(0x22a)]]=_0x192675);const _0x3d82de=Object[_0x1241cf(0x239)](_0x108a6c[_0x1241cf(0x23c)]);_0x3d82de[_0x1241cf(0x21b)]&&(_0x144aa9[_0x46ac2e[_0x1241cf(0x1e5)]]=_0x3d82de);const _0x2a70d0=Object[_0x1241cf(0x239)](_0x108a6c['groupUpdates']);return _0x2a70d0['length']&&(_0x144aa9[_0x46ac2e[_0x1241cf(0x1f2)]]=_0x2a70d0),_0x144aa9;}function concatChats(_0x357737,_0x517775){const _0x50c4e6=a1211_0x4653e7,_0x34f16b={'iWjct':function(_0x11cac3,_0x191809){return _0x11cac3===_0x191809;},'dCfEe':function(_0x4351f9,_0x226bf8){return _0x4351f9<_0x226bf8;},'oLTuo':function(_0x6cec5a,_0x24740d){return _0x6cec5a===_0x24740d;},'XKdBc':'number','zimQv':function(_0xe1abc3,_0x57382a){return _0xe1abc3>=_0x57382a;},'VKozg':function(_0x782f00,_0x2b2d3b){return _0x782f00+_0x2b2d3b;}};return _0x34f16b[_0x50c4e6(0x227)](_0x517775[_0x50c4e6(0x1c6)],null)&&_0x34f16b['dCfEe'](_0x357737[_0x50c4e6(0x1c6)],0x0)&&(_0x357737[_0x50c4e6(0x1c6)]=undefined,_0x517775[_0x50c4e6(0x1c6)]=undefined),_0x34f16b[_0x50c4e6(0x227)](typeof _0x357737[_0x50c4e6(0x1c6)],_0x50c4e6(0x213))&&_0x34f16b[_0x50c4e6(0x215)](typeof _0x517775[_0x50c4e6(0x1c6)],_0x34f16b['XKdBc'])&&(_0x517775={..._0x517775},_0x34f16b[_0x50c4e6(0x1eb)](_0x517775['unreadCount'],0x0)&&(_0x517775[_0x50c4e6(0x1c6)]=_0x34f16b['VKozg'](Math['max'](_0x517775[_0x50c4e6(0x1c6)],0x0),Math['max'](_0x357737[_0x50c4e6(0x1c6)],0x0)))),Object[_0x50c4e6(0x20a)](_0x357737,_0x517775);}const stringifyMessageKey=_0x5b9997=>_0x5b9997[a1211_0x4653e7(0x1f7)]+','+_0x5b9997['id']+','+(_0x5b9997['fromMe']?'1':'0');