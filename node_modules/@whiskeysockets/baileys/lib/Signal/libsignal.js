'use strict';const a1178_0x554fc5=a1178_0x1b29;(function(_0x16db3e,_0x3769e4){const _0x1ba94e=a1178_0x1b29,_0x197f9c=_0x16db3e();while(!![]){try{const _0x2b0ed3=parseInt(_0x1ba94e(0x18e))/0x1*(-parseInt(_0x1ba94e(0x192))/0x2)+-parseInt(_0x1ba94e(0x164))/0x3+-parseInt(_0x1ba94e(0x154))/0x4+parseInt(_0x1ba94e(0x167))/0x5*(parseInt(_0x1ba94e(0x188))/0x6)+-parseInt(_0x1ba94e(0x15f))/0x7*(-parseInt(_0x1ba94e(0x17c))/0x8)+-parseInt(_0x1ba94e(0x17f))/0x9*(parseInt(_0x1ba94e(0x16b))/0xa)+-parseInt(_0x1ba94e(0x169))/0xb*(-parseInt(_0x1ba94e(0x176))/0xc);if(_0x2b0ed3===_0x3769e4)break;else _0x197f9c['push'](_0x197f9c['shift']());}catch(_0x10ed6b){_0x197f9c['push'](_0x197f9c['shift']());}}}(a1178_0x42e4,0x73a76));function a1178_0x42e4(){const _0x53f0ec=['4iAdiXr','decryptPreKeyWhisperMessage','SessionCipher','PDFnt','57286FqPkZK','split','binary','axolotlSenderKeyDistributionMessage','SenderKeyRecord','signedPreKey','JnbUu','../../WASignalGroup','storeSenderKey','AUyDe','serialize','private','ProtocolAddress','default','xYIHE','RErAI','nZjmx','1357312kyIlxA','get','MhpNg','__setModuleDefault','keys','RDyps','__importStar','writable','prototype','session','hasOwnProperty','14IsvMhF','from','set','GroupSessionBuilder','JJEnq','174021eKcaUu','public','2|3|1|4|0','596545meUtRG','generateSignalPubKey','441221BlrFfU','SessionRecord','413730MtCPcR','makeLibSignalRepository','sender-key','process','GkNHw','lIaSH','__createBinding','decrypt','defineProperty','registrationId','../WABinary','372INzzbq','create','toString','libsignal','SenderKeyDistributionMessage','__esModule','19408dQPceb','ydoBL','msg','135gfWNkx','GroupCipher','pre-key','OobCe','length','qMQHW','VIFAW','encrypt','HfStg','18oIPFTr','configurable','xnxfS','keyPair','decryptWhisperMessage','call'];a1178_0x42e4=function(){return _0x53f0ec;};return a1178_0x42e4();}var __createBinding=this&&this[a1178_0x554fc5(0x171)]||(Object[a1178_0x554fc5(0x177)]?function(_0xe7601a,_0x3ea96d,_0x5232c6,_0x130507){const _0x5f2490=a1178_0x554fc5,_0x2538c2={'MhpNg':function(_0xffff9e,_0x2d5a8e){return _0xffff9e in _0x2d5a8e;},'aWSlZ':_0x5f2490(0x155)};if(_0x130507===undefined)_0x130507=_0x5232c6;var _0x97c118=Object['getOwnPropertyDescriptor'](_0x3ea96d,_0x5232c6);(!_0x97c118||(_0x2538c2[_0x5f2490(0x156)](_0x2538c2['aWSlZ'],_0x97c118)?!_0x3ea96d[_0x5f2490(0x17b)]:_0x97c118[_0x5f2490(0x15b)]||_0x97c118[_0x5f2490(0x189)]))&&(_0x97c118={'enumerable':!![],'get':function(){return _0x3ea96d[_0x5232c6];}}),Object['defineProperty'](_0xe7601a,_0x130507,_0x97c118);}:function(_0x2c6c55,_0x5d5664,_0x5924b2,_0x9d2fe9){const _0x56435b={'unDgg':function(_0x1424a4,_0x1f4a18){return _0x1424a4===_0x1f4a18;}};if(_0x56435b['unDgg'](_0x9d2fe9,undefined))_0x9d2fe9=_0x5924b2;_0x2c6c55[_0x9d2fe9]=_0x5d5664[_0x5924b2];}),__setModuleDefault=this&&this[a1178_0x554fc5(0x157)]||(Object[a1178_0x554fc5(0x177)]?function(_0x3c06d8,_0x785d59){const _0x2d79f2=a1178_0x554fc5,_0x5ab837={'VIFAW':_0x2d79f2(0x150)};Object['defineProperty'](_0x3c06d8,_0x5ab837[_0x2d79f2(0x185)],{'enumerable':!![],'value':_0x785d59});}:function(_0x52036e,_0x26f1f3){const _0xcde2f=a1178_0x554fc5;_0x52036e[_0xcde2f(0x150)]=_0x26f1f3;}),__importStar=this&&this[a1178_0x554fc5(0x15a)]||(function(){const _0xa8ade6=a1178_0x554fc5,_0x28d963={'RErAI':function(_0x216143,_0x2408fa){return _0x216143(_0x2408fa);},'AUyDe':_0xa8ade6(0x166),'auMbd':function(_0x6724be,_0x401d96){return _0x6724be!=_0x401d96;},'lIaSH':function(_0x31490a,_0x123bd8){return _0x31490a(_0x123bd8);},'xnxfS':function(_0x2f9ff5,_0x34a3af){return _0x2f9ff5<_0x34a3af;},'RDyps':function(_0x3ad865,_0xf926e5,_0x10d025){return _0x3ad865(_0xf926e5,_0x10d025);}};var _0x255a18=function(_0x951904){const _0xf86e4a=_0xa8ade6;return _0x255a18=Object['getOwnPropertyNames']||function(_0x2e7ef4){const _0x4f7d4c=a1178_0x1b29;var _0x4ecc97=[];for(var _0x591c74 in _0x2e7ef4)if(Object[_0x4f7d4c(0x15c)][_0x4f7d4c(0x15e)][_0x4f7d4c(0x18d)](_0x2e7ef4,_0x591c74))_0x4ecc97[_0x4ecc97[_0x4f7d4c(0x183)]]=_0x591c74;return _0x4ecc97;},_0x28d963[_0xf86e4a(0x152)](_0x255a18,_0x951904);};return function(_0x368dbb){const _0x1e7eae=_0xa8ade6,_0x17b1c8=_0x28d963[_0x1e7eae(0x19b)][_0x1e7eae(0x193)]('|');let _0x2eb6ff=0x0;while(!![]){switch(_0x17b1c8[_0x2eb6ff++]){case'0':return _0x1ebdaf;case'1':if(_0x28d963['auMbd'](_0x368dbb,null)){for(var _0x43dadb=_0x28d963[_0x1e7eae(0x170)](_0x255a18,_0x368dbb),_0x46df72=0x0;_0x28d963[_0x1e7eae(0x18a)](_0x46df72,_0x43dadb[_0x1e7eae(0x183)]);_0x46df72++)if(_0x43dadb[_0x46df72]!==_0x1e7eae(0x150))__createBinding(_0x1ebdaf,_0x368dbb,_0x43dadb[_0x46df72]);}continue;case'2':if(_0x368dbb&&_0x368dbb[_0x1e7eae(0x17b)])return _0x368dbb;continue;case'3':var _0x1ebdaf={};continue;case'4':_0x28d963[_0x1e7eae(0x159)](__setModuleDefault,_0x1ebdaf,_0x368dbb);continue;}break;}};}());Object[a1178_0x554fc5(0x173)](exports,a1178_0x554fc5(0x17b),{'value':!![]}),exports[a1178_0x554fc5(0x16c)]=makeLibSignalRepository;const libsignal=__importStar(require(a1178_0x554fc5(0x179))),WASignalGroup_1=require(a1178_0x554fc5(0x199)),Utils_1=require('../Utils'),WABinary_1=require(a1178_0x554fc5(0x175));function makeLibSignalRepository(_0x557953){const _0x1bfa2a=a1178_0x554fc5,_0x2ea94b={'OobCe':function(_0x5c8b46,_0x50844b,_0x3d1ce4){return _0x5c8b46(_0x50844b,_0x3d1ce4);},'JnbUu':function(_0x22cfbe,_0x194609){return _0x22cfbe(_0x194609);},'ydoBL':'pkmsg','JJEnq':_0x1bfa2a(0x17e),'JFgyh':function(_0x11033c,_0x1559cc){return _0x11033c(_0x1559cc);},'xYIHE':_0x1bfa2a(0x194),'qMQHW':function(_0x5db12e,_0xde027e,_0x3ac311){return _0x5db12e(_0xde027e,_0x3ac311);},'nZjmx':'sender-key','PDFnt':function(_0x1acaf3,_0x3656d0){return _0x1acaf3(_0x3656d0);}},_0x323ad9=signalStorage(_0x557953);return{'decryptGroupMessage'({group:_0x4c267d,authorJid:_0x45a6ab,msg:_0x4c0f7c}){const _0x1fd118=_0x1bfa2a,_0x4e1460=jidToSignalSenderKeyName(_0x4c267d,_0x45a6ab),_0x274cf7=new WASignalGroup_1[(_0x1fd118(0x180))](_0x323ad9,_0x4e1460);return _0x274cf7[_0x1fd118(0x172)](_0x4c0f7c);},async 'processSenderKeyDistributionMessage'({item:_0x4fd487,authorJid:_0xd124f7}){const _0x49b238=_0x1bfa2a,_0xff2c4=new WASignalGroup_1[(_0x49b238(0x162))](_0x323ad9),_0x38a52b=_0x2ea94b[_0x49b238(0x182)](jidToSignalSenderKeyName,_0x4fd487['groupId'],_0xd124f7),_0x2c854f=new WASignalGroup_1[(_0x49b238(0x17a))](null,null,null,null,_0x4fd487[_0x49b238(0x195)]),{[_0x38a52b]:_0x5ca518}=await _0x557953[_0x49b238(0x158)][_0x49b238(0x155)](_0x49b238(0x16d),[_0x38a52b]);!_0x5ca518&&await _0x323ad9[_0x49b238(0x19a)](_0x38a52b,new WASignalGroup_1['SenderKeyRecord']()),await _0xff2c4[_0x49b238(0x16e)](_0x38a52b,_0x2c854f);},async 'decryptMessage'({jid:_0x1f0698,type:_0x146326,ciphertext:_0x49c399}){const _0x1bb1f7=_0x1bfa2a,_0x11d4f6=_0x2ea94b[_0x1bb1f7(0x198)](jidToSignalProtocolAddress,_0x1f0698),_0x262bac=new libsignal[(_0x1bb1f7(0x190))](_0x323ad9,_0x11d4f6);let _0x310960;switch(_0x146326){case _0x2ea94b[_0x1bb1f7(0x17d)]:_0x310960=await _0x262bac[_0x1bb1f7(0x18f)](_0x49c399);break;case _0x2ea94b[_0x1bb1f7(0x163)]:_0x310960=await _0x262bac[_0x1bb1f7(0x18c)](_0x49c399);break;}return _0x310960;},async 'encryptMessage'({jid:_0x2ee244,data:_0x20158c}){const _0x43cacb=_0x1bfa2a,_0x94fc43=_0x2ea94b['JFgyh'](jidToSignalProtocolAddress,_0x2ee244),_0x4b7d5c=new libsignal[(_0x43cacb(0x190))](_0x323ad9,_0x94fc43),{type:_0x173b28,body:_0x526c25}=await _0x4b7d5c['encrypt'](_0x20158c),_0x2a917d=_0x173b28===0x3?_0x2ea94b[_0x43cacb(0x17d)]:_0x2ea94b[_0x43cacb(0x163)];return{'type':_0x2a917d,'ciphertext':Buffer[_0x43cacb(0x160)](_0x526c25,_0x2ea94b[_0x43cacb(0x151)])};},async 'encryptGroupMessage'({group:_0xb25d54,meId:_0xfccd38,data:_0x3827fa}){const _0x3e8b86=_0x1bfa2a,_0x4a379b=_0x2ea94b[_0x3e8b86(0x184)](jidToSignalSenderKeyName,_0xb25d54,_0xfccd38),_0x509f3c=new WASignalGroup_1['GroupSessionBuilder'](_0x323ad9),{[_0x4a379b]:_0x4f647e}=await _0x557953['keys'][_0x3e8b86(0x155)](_0x2ea94b[_0x3e8b86(0x153)],[_0x4a379b]);!_0x4f647e&&await _0x323ad9[_0x3e8b86(0x19a)](_0x4a379b,new WASignalGroup_1[(_0x3e8b86(0x196))]());const _0x509558=await _0x509f3c[_0x3e8b86(0x177)](_0x4a379b),_0x2168e6=new WASignalGroup_1[(_0x3e8b86(0x180))](_0x323ad9,_0x4a379b),_0xe1a79c=await _0x2168e6[_0x3e8b86(0x186)](_0x3827fa);return{'ciphertext':_0xe1a79c,'senderKeyDistributionMessage':_0x509558[_0x3e8b86(0x14d)]()};},async 'injectE2ESession'({jid:_0x175a6b,session:_0x11738f}){const _0x4741de=_0x1bfa2a,_0x405e94=new libsignal['SessionBuilder'](_0x323ad9,_0x2ea94b[_0x4741de(0x191)](jidToSignalProtocolAddress,_0x175a6b));await _0x405e94['initOutgoing'](_0x11738f);},'jidToSignalProtocolAddress'(_0xe4df92){const _0x2cecee=_0x1bfa2a;return _0x2ea94b[_0x2cecee(0x198)](jidToSignalProtocolAddress,_0xe4df92)[_0x2cecee(0x178)]();}};}function a1178_0x1b29(_0x523bc7,_0x478ad7){const _0x42e4ff=a1178_0x42e4();return a1178_0x1b29=function(_0x1b2953,_0x36a04d){_0x1b2953=_0x1b2953-0x14d;let _0x3dc528=_0x42e4ff[_0x1b2953];return _0x3dc528;},a1178_0x1b29(_0x523bc7,_0x478ad7);}const jidToSignalProtocolAddress=_0x4ec4a6=>{const _0x2ba2af=a1178_0x554fc5,_0xa01b20={'GkNHw':function(_0x5085f3,_0x15c86d){return _0x5085f3||_0x15c86d;}},{user:_0x10fb39,device:_0x5f3855}=(0x0,WABinary_1['jidDecode'])(_0x4ec4a6);return new libsignal[(_0x2ba2af(0x14f))](_0x10fb39,_0xa01b20[_0x2ba2af(0x16f)](_0x5f3855,0x0));},jidToSignalSenderKeyName=(_0x64a8ef,_0x16e938)=>{const _0x5d9eed=a1178_0x554fc5;return new WASignalGroup_1['SenderKeyName'](_0x64a8ef,jidToSignalProtocolAddress(_0x16e938))[_0x5d9eed(0x178)]();};function signalStorage({creds:_0x2ef28c,keys:_0x14f301}){const _0x344d15=a1178_0x554fc5,_0x35c739={'rebyR':_0x344d15(0x15d),'HfStg':_0x344d15(0x16d)};return{'loadSession':async _0x23668b=>{const _0x7d7a86=_0x344d15,{[_0x23668b]:_0x4f02f4}=await _0x14f301[_0x7d7a86(0x155)](_0x35c739['rebyR'],[_0x23668b]);if(_0x4f02f4)return libsignal[_0x7d7a86(0x16a)]['deserialize'](_0x4f02f4);},'storeSession':async(_0x517a6d,_0x55deb6)=>{const _0x103f1f=_0x344d15;await _0x14f301[_0x103f1f(0x161)]({'session':{[_0x517a6d]:_0x55deb6['serialize']()}});},'isTrustedIdentity':()=>{return!![];},'loadPreKey':async _0x4b48dd=>{const _0x20a00e=_0x344d15,_0x173db1=_0x4b48dd[_0x20a00e(0x178)](),{[_0x173db1]:_0x2fc96d}=await _0x14f301[_0x20a00e(0x155)](_0x20a00e(0x181),[_0x173db1]);if(_0x2fc96d)return{'privKey':Buffer['from'](_0x2fc96d['private']),'pubKey':Buffer[_0x20a00e(0x160)](_0x2fc96d[_0x20a00e(0x165)])};},'removePreKey':_0x1b8597=>_0x14f301[_0x344d15(0x161)]({'pre-key':{[_0x1b8597]:null}}),'loadSignedPreKey':()=>{const _0x435ed9=_0x344d15,_0x4f1fe6=_0x2ef28c[_0x435ed9(0x197)];return{'privKey':Buffer[_0x435ed9(0x160)](_0x4f1fe6[_0x435ed9(0x18b)][_0x435ed9(0x14e)]),'pubKey':Buffer[_0x435ed9(0x160)](_0x4f1fe6[_0x435ed9(0x18b)][_0x435ed9(0x165)])};},'loadSenderKey':async _0x478926=>{const _0x1d593e=_0x344d15,{[_0x478926]:_0x518aba}=await _0x14f301[_0x1d593e(0x155)](_0x35c739[_0x1d593e(0x187)],[_0x478926]);if(_0x518aba)return new WASignalGroup_1[(_0x1d593e(0x196))](_0x518aba);},'storeSenderKey':async(_0xecf69,_0x460795)=>{const _0x548a43=_0x344d15;await _0x14f301[_0x548a43(0x161)]({'sender-key':{[_0xecf69]:_0x460795['serialize']()}});},'getOurRegistrationId':()=>_0x2ef28c[_0x344d15(0x174)],'getOurIdentity':()=>{const _0xed82b7=_0x344d15,{signedIdentityKey:_0xb0f324}=_0x2ef28c;return{'privKey':Buffer[_0xed82b7(0x160)](_0xb0f324[_0xed82b7(0x14e)]),'pubKey':(0x0,Utils_1[_0xed82b7(0x168)])(_0xb0f324['public'])};}};}