const a14_0x12aa2e=a14_0x1a09;(function(_0x2578c8,_0x2b6b09){const _0x22060d=a14_0x1a09,_0x222fb0=_0x2578c8();while(!![]){try{const _0x2323a8=-parseInt(_0x22060d(0x23d))/0x1*(parseInt(_0x22060d(0x24b))/0x2)+-parseInt(_0x22060d(0x1fc))/0x3+parseInt(_0x22060d(0x1f5))/0x4+-parseInt(_0x22060d(0x220))/0x5*(-parseInt(_0x22060d(0x260))/0x6)+parseInt(_0x22060d(0x256))/0x7*(parseInt(_0x22060d(0x24f))/0x8)+parseInt(_0x22060d(0x210))/0x9*(-parseInt(_0x22060d(0x237))/0xa)+parseInt(_0x22060d(0x248))/0xb;if(_0x2323a8===_0x2b6b09)break;else _0x222fb0['push'](_0x222fb0['shift']());}catch(_0x528911){_0x222fb0['push'](_0x222fb0['shift']());}}}(a14_0x1b6e,0xbc1cb));const a14_0x5f4042=(function(){const _0x2b4ad6=a14_0x1a09,_0x37e4bf={'IOIxd':_0x2b4ad6(0x238),'xbiRo':function(_0x5a71ef,_0x2a4bb1){return _0x5a71ef===_0x2a4bb1;},'OwyNq':_0x2b4ad6(0x214)};let _0x165060=!![];return function(_0x5d2ff5,_0x457118){const _0x24a367=_0x2b4ad6,_0x1428d9={'PVAuv':_0x37e4bf['IOIxd']};if(_0x37e4bf[_0x24a367(0x231)](_0x37e4bf['OwyNq'],_0x37e4bf[_0x24a367(0x217)])){const _0x3d94df=_0x165060?function(){const _0x4df561=_0x24a367;if(_0x457118){const _0x146111=_0x457118[_0x4df561(0x245)](_0x5d2ff5,arguments);return _0x457118=null,_0x146111;}}:function(){};return _0x165060=![],_0x3d94df;}else return _0xb91bd6[_0x24a367(0x229)](_0x1428d9[_0x24a367(0x25e)],_0x41c9e1),null;};}()),a14_0x4c4e02=a14_0x5f4042(this,function(){const _0x19f401=a14_0x1a09,_0x16fc98={'ASACM':_0x19f401(0x25b)};return a14_0x4c4e02['toString']()[_0x19f401(0x22e)](_0x19f401(0x25b))[_0x19f401(0x25c)]()[_0x19f401(0x25d)](a14_0x4c4e02)[_0x19f401(0x22e)](_0x16fc98[_0x19f401(0x261)]);});a14_0x4c4e02();const fs=require('fs'),path=require(a14_0x12aa2e(0x24e)),crypto=require('crypto'),{spawn}=require('child_process'),{fileTypeFromBuffer}=require(a14_0x12aa2e(0x225)),webp=require('node-webpmux'),fetch=require('node-fetch'),ffmpeg=require('fluent-ffmpeg'),{exec}=require(a14_0x12aa2e(0x1f4)),{promisify}=require(a14_0x12aa2e(0x222)),execAsync=promisify(exec),{writeExifImg}=require('./exif'),tmp=path[a14_0x12aa2e(0x24d)](__dirname,a14_0x12aa2e(0x22c));function sticker2(_0x3fd94a,_0x1ee0ac){const _0x35209f=a14_0x12aa2e,_0x813b88={'YxszO':function(_0x51a03f,_0x36de2b){return _0x51a03f!==_0x36de2b;},'VeJnj':'XLwme','iazhN':function(_0x70dae,_0x332066){return _0x70dae!==_0x332066;},'mnsCl':'mebhO','gZScS':function(_0x47832a,_0x2e1fcc){return _0x47832a(_0x2e1fcc);},'pIJvR':function(_0x41ad22,_0x3507e7){return _0x41ad22===_0x3507e7;},'KBblk':function(_0x3088d1,_0x57ba68){return _0x3088d1+_0x57ba68;},'QsnGA':_0x35209f(0x219),'oPHOi':function(_0x4f320b,_0x528fb9,_0x47c633){return _0x4f320b(_0x528fb9,_0x47c633);},'NXQnA':_0x35209f(0x23f),'zchuI':_0x35209f(0x21b),'llIhO':_0x35209f(0x229),'jxlqM':'convert','EzycY':_0x35209f(0x252),'Qbsub':_0x35209f(0x259),'INhig':function(_0x275ab6,_0x5cbf83,_0x5a14ce){return _0x275ab6(_0x5cbf83,_0x5a14ce);},'Ttuww':_0x35209f(0x1f1),'Pgoag':function(_0x4fdc56,_0x153a7c){return _0x4fdc56(_0x153a7c);}};return new Promise(async(_0x52183d,_0xeb90cb)=>{const _0x381730=_0x35209f;try{if(_0x1ee0ac){if(_0x813b88['pIJvR'](_0x381730(0x211),'gCLiv')){const _0x4b6b8e=_0x5bb4e4?function(){if(_0x2d19d3){const _0x2455e8=_0x500cc3['apply'](_0x37b94c,arguments);return _0x4396ac=null,_0x2455e8;}}:function(){};return _0x59e56b=![],_0x4b6b8e;}else{let _0x455eb4=await _0x813b88[_0x381730(0x255)](fetch,_0x1ee0ac);if(_0x813b88[_0x381730(0x212)](_0x455eb4[_0x381730(0x221)],0xc8))throw await _0x455eb4[_0x381730(0x232)]();_0x3fd94a=await _0x455eb4[_0x381730(0x243)]();}}let _0x1642e6=path['join'](tmp,_0x813b88[_0x381730(0x242)](+new Date(),_0x813b88[_0x381730(0x21c)]));await fs['promises'][_0x381730(0x246)](_0x1642e6,_0x3fd94a);let _0x2206eb=_0x813b88[_0x381730(0x1f7)](spawn,'ffmpeg',['-y','-i',_0x1642e6,_0x813b88['NXQnA'],_0x381730(0x20f),'-f',_0x813b88['zchuI'],'-']);_0x2206eb['on'](_0x813b88[_0x381730(0x1f6)],_0xeb90cb),_0x2206eb['on']('close',async()=>{const _0x2105df=_0x381730;if(_0x813b88['YxszO'](_0x2105df(0x209),_0x813b88[_0x2105df(0x218)])){const _0x1f4a8c=_0x4936e5['apply'](_0x2366ba,arguments);return _0x26135f=null,_0x1f4a8c;}else await fs[_0x2105df(0x239)]['unlink'](_0x1642e6);});let _0x1b0da3=[];const [_0x1cf760,..._0x4048d5]=[...module[_0x381730(0x234)]['support']['gm']?['gm']:module[_0x381730(0x234)][_0x381730(0x215)]?['magick']:[],_0x813b88[_0x381730(0x25a)],_0x813b88[_0x381730(0x216)],_0x813b88['Qbsub']];let _0xc48c4c=_0x813b88[_0x381730(0x262)](spawn,_0x1cf760,_0x4048d5);_0xc48c4c['on'](_0x813b88[_0x381730(0x1f6)],_0x1bcfe9=>conn['reply'](m[_0x381730(0x244)],util[_0x381730(0x20b)](_0x1bcfe9),m)),_0xc48c4c[_0x381730(0x23e)]['on']('data',_0x589183=>_0x1b0da3[_0x381730(0x1fe)](_0x589183)),_0x2206eb['stdout'][_0x381730(0x202)](_0xc48c4c[_0x381730(0x1ef)]),_0xc48c4c['on'](_0x813b88['Ttuww'],()=>{const _0x16d821=_0x381730;_0x813b88[_0x16d821(0x264)]('KIVzu',_0x813b88[_0x16d821(0x24c)])?_0x813b88['gZScS'](_0x52183d,Buffer['concat'](_0x1b0da3)):_0x4988cf(_0x1359e3);});}catch(_0x23625e){_0x813b88[_0x381730(0x22a)](_0xeb90cb,_0x23625e);}});}async function sticker3(_0x2cdd91,_0x3baaee,_0x4ac406,_0x55c061){const _0x27e65d=a14_0x12aa2e,_0x30ba65={'hMGWH':function(_0x2c8523,_0x762b8a){return _0x2c8523(_0x762b8a);},'lubVl':_0x27e65d(0x1fb)};_0x3baaee=_0x3baaee?_0x3baaee:await _0x30ba65[_0x27e65d(0x208)](uploadFile,_0x2cdd91);let _0x2250e0=await fetch(_0x30ba65[_0x27e65d(0x230)]+new URLSearchParams(Object[_0x27e65d(0x20a)]({'url':_0x3baaee,'packname':_0x4ac406,'author':_0x55c061})));return await _0x2250e0[_0x27e65d(0x243)]();}async function sticker4(_0x4d00d0,_0x888ae6){const _0x40c255=a14_0x12aa2e,_0x5d85df={'ejwBF':function(_0x19f3e8,_0x54b29e){return _0x19f3e8(_0x54b29e);},'eajjh':function(_0x4a52a1,_0x10817a){return _0x4a52a1!==_0x10817a;},'Tddek':_0x40c255(0x22d),'JIdjE':function(_0x65ed35,_0x31dc01){return _0x65ed35(_0x31dc01);},'QugTi':function(_0x447a19,_0x8d37eb,_0x4de2ff,_0x51147f,_0x19ee74){return _0x447a19(_0x8d37eb,_0x4de2ff,_0x51147f,_0x19ee74);},'ejUfu':'-vf','GFbPJ':_0x40c255(0x20f)};if(_0x888ae6){if(_0x5d85df[_0x40c255(0x20d)](_0x5d85df[_0x40c255(0x1f2)],_0x5d85df['Tddek']))_0x569e31[_0x40c255(0x229)](_0x4d3276),_0x8904d2[_0x40c255(0x239)][_0x40c255(0x226)](_0x982c44),_0x5d85df[_0x40c255(0x228)](_0x3d4d83,_0x352744);else{let _0x4f6fee=await _0x5d85df[_0x40c255(0x265)](fetch,_0x888ae6);if(_0x4f6fee['status']!==0xc8)throw await _0x4f6fee[_0x40c255(0x232)]();_0x4d00d0=await _0x4f6fee[_0x40c255(0x243)]();}}return await _0x5d85df[_0x40c255(0x263)](ffmpeg,_0x4d00d0,[_0x5d85df[_0x40c255(0x23a)],_0x5d85df['GFbPJ']],_0x40c255(0x1ee),_0x40c255(0x200));}async function sticker5(_0x543aa4,_0x359b99,_0x5d40c0,_0x277bf2,_0x446317=[''],_0x23f038={}){const _0x13b645=a14_0x12aa2e,_0xb0206b={'LsYzg':_0x13b645(0x1f9),'JnJbp':'default'},{Sticker:_0x2e6a1}=await import(_0xb0206b['LsYzg']),_0x74df1={'type':_0xb0206b[_0x13b645(0x207)],'pack':_0x5d40c0,'author':_0x277bf2,'categories':_0x446317,..._0x23f038};return new _0x2e6a1(_0x543aa4?_0x543aa4:_0x359b99,_0x74df1)[_0x13b645(0x227)]();}function sticker6(_0x2a19df,_0x4dd2cd){const _0x271968=a14_0x12aa2e,_0x2147ee={'XexPY':_0x271968(0x25b),'wAWOH':function(_0x3f2007,_0x4de638){return _0x3f2007===_0x4de638;},'UmJfb':_0x271968(0x267),'YRkuS':function(_0xdf9858,_0x58c15c){return _0xdf9858(_0x58c15c);},'DMfsn':function(_0x344d55,_0x477212){return _0x344d55!==_0x477212;},'XqKuH':function(_0x170c96,_0x253a9f){return _0x170c96(_0x253a9f);},'uYlDr':function(_0x94516c,_0x527ef4){return _0x94516c==_0x527ef4;},'qoaSy':_0x271968(0x21e),'USXxa':function(_0x3d0326,_0x408fb8){return _0x3d0326(_0x408fb8);},'QsESQ':function(_0x115c0c,_0x49312e){return _0x115c0c+_0x49312e;},'Cgqzg':function(_0xe5848a,_0x35a679){return _0xe5848a(_0x35a679);},'DtuUn':_0x271968(0x229),'hGJey':_0x271968(0x206),'Ytiup':_0x271968(0x200)};return new Promise(async(_0x25ff3a,_0x5dc25b)=>{const _0x7d6ab=_0x271968;if(_0x4dd2cd){let _0x4f8d58=await fetch(_0x4dd2cd);if(_0x2147ee[_0x7d6ab(0x257)](_0x4f8d58[_0x7d6ab(0x221)],0xc8))throw await _0x4f8d58[_0x7d6ab(0x232)]();_0x2a19df=await _0x4f8d58[_0x7d6ab(0x243)]();}const _0x1737a6=await _0x2147ee[_0x7d6ab(0x1ff)](fileTypeFromBuffer,_0x2a19df)||{'mime':_0x7d6ab(0x23c),'ext':_0x7d6ab(0x21e)};if(_0x2147ee[_0x7d6ab(0x21f)](_0x1737a6[_0x7d6ab(0x254)],_0x2147ee['qoaSy']))_0x2147ee[_0x7d6ab(0x1f8)](_0x5dc25b,_0x2a19df);const _0x2900e9=path['join'](__dirname,_0x7d6ab(0x20c)+ +new Date()+'.'+_0x1737a6[_0x7d6ab(0x254)]),_0x50f0ab=path[_0x7d6ab(0x24d)](_0x2147ee[_0x7d6ab(0x1fa)](_0x2900e9,_0x7d6ab(0x22f)));await fs[_0x7d6ab(0x239)]['writeFile'](_0x2900e9,_0x2a19df);let _0x561167=/video/i[_0x7d6ab(0x21d)](_0x1737a6[_0x7d6ab(0x224)])?_0x2147ee[_0x7d6ab(0x249)](fluent_ffmpeg,_0x2900e9)['inputFormat'](_0x1737a6['ext']):_0x2147ee['Cgqzg'](fluent_ffmpeg,_0x2900e9)[_0x7d6ab(0x1f0)](_0x2900e9);_0x561167['on'](_0x2147ee['DtuUn'],function(_0x595e85){const _0x254cc1=_0x7d6ab,_0x3369b7={'mFjSl':_0x2147ee['XexPY']};if(_0x2147ee['wAWOH'](_0x2147ee[_0x254cc1(0x250)],_0x254cc1(0x267)))console[_0x254cc1(0x229)](_0x595e85),fs[_0x254cc1(0x239)][_0x254cc1(0x226)](_0x2900e9),_0x2147ee[_0x254cc1(0x249)](_0x5dc25b,_0x2a19df);else return _0x4fa13e['toString']()['search'](fqSRwp[_0x254cc1(0x236)])[_0x254cc1(0x25c)]()[_0x254cc1(0x25d)](_0x389fd3)['search'](_0x254cc1(0x25b));})['on'](_0x2147ee[_0x7d6ab(0x204)],async function(){const _0x3ba2f0=_0x7d6ab;fs[_0x3ba2f0(0x239)][_0x3ba2f0(0x226)](_0x2900e9),_0x25ff3a(await fs[_0x3ba2f0(0x239)][_0x3ba2f0(0x258)](_0x50f0ab));})[_0x7d6ab(0x253)](['-vcodec',_0x7d6ab(0x1fd),'-vf',_0x7d6ab(0x21a)])[_0x7d6ab(0x201)](_0x2147ee[_0x7d6ab(0x205)])[_0x7d6ab(0x251)](_0x50f0ab);});}function a14_0x1b6e(){const _0x439dcb=['util','randomBytes','mime','file-type','unlink','toBuffer','ejwBF','error','Pgoag','load','../tmp','bXUWI','search','.webp','lubVl','xbiRo','text','WhatsApp\x20Bot','exports','ygdZH','mFjSl','1210dhULnT','Error\x20in\x20sticker\x20creation:','promises','ejUfu','hex','application/octet-stream','1ufHAxF','stdout','-vf','KwJIt','FRHKK','KBblk','buffer','chat','apply','writeFile','XqNgj','6242489ASvIjd','YRkuS','@bot','654928rDZnuQ','mnsCl','join','path','12472zyRBda','UmJfb','save','png:-','addOutputOptions','ext','gZScS','2723RVpNcV','DMfsn','readFile','webp:-','jxlqM','(((.+)+)+)+$','toString','constructor','PVAuv','writeUIntLE','1164kxIbYq','ASACM','INhig','QugTi','iazhN','JIdjE','concat','lnfFJ','exif','jpeg','stdin','input','exit','Tddek','SNydk','child_process','1948340dLZmoO','llIhO','oPHOi','USXxa','wa-sticker-formatter','QsESQ','https://api.xteam.xyz/sticker/wm?','429873qkGbFV','libwebp','push','XqKuH','webp','toFormat','pipe','uYWbc','hGJey','Ytiup','end','JnJbp','hMGWH','XLwme','entries','format','../tmp/','eajjh','VjrXi','scale=512:512:flags=lanczos:force_original_aspect_ratio=decrease,format=rgba,pad=512:512:(ow-iw)/2:(oh-ih)/2:color=#00000000,setsar=1','75753mwjNIX','Xnxjb','YxszO','utf8','AgYMd','magick','EzycY','OwyNq','VeJnj','.jpeg','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','png','QsnGA','test','bin','uYlDr','15430ulIPkX','status'];a14_0x1b6e=function(){return _0x439dcb;};return a14_0x1b6e();}async function addExif(_0x22212a,_0xe3e820,_0x305ad5,_0x25e4c0=[''],_0x2ba591={}){const _0x586fcb=a14_0x12aa2e,_0x453b7f=new webp['Image'](),_0x31d246=crypto[_0x586fcb(0x223)](0x20)[_0x586fcb(0x25c)](_0x586fcb(0x23b)),_0x2fe660={'sticker-pack-id':_0x31d246,'sticker-pack-name':_0xe3e820,'sticker-pack-publisher':_0x305ad5,'emojis':_0x25e4c0,..._0x2ba591};let _0x54ffc4=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4376bf=Buffer['from'](JSON['stringify'](_0x2fe660),_0x586fcb(0x213)),_0x300897=Buffer[_0x586fcb(0x266)]([_0x54ffc4,_0x4376bf]);return _0x300897[_0x586fcb(0x25f)](_0x4376bf['length'],0xe,0x4),await _0x453b7f[_0x586fcb(0x22b)](_0x22212a),_0x453b7f[_0x586fcb(0x268)]=_0x300897,await _0x453b7f['save'](null);}async function sticker(_0x768971,_0x319c17,_0x3bb0cc,_0x421581){const _0x3bbb40=a14_0x12aa2e,_0x31e362={'VjrXi':function(_0x23f0ec,_0x8943bf){return _0x23f0ec(_0x8943bf);},'SNydk':_0x3bbb40(0x240),'FRHKK':function(_0x24caa9,_0x46fa34){return _0x24caa9||_0x46fa34;},'ygdZH':_0x3bbb40(0x24a),'XqNgj':_0x3bbb40(0x238)};try{if(_0x3bbb40(0x203)!==_0x31e362[_0x3bbb40(0x1f3)]){const _0x58c305=await _0x31e362[_0x3bbb40(0x20e)](fetch,_0x319c17),_0x27f564=await _0x58c305[_0x3bbb40(0x243)](),_0x594310=await writeExifImg(_0x27f564,{'packname':_0x31e362[_0x3bbb40(0x241)](_0x3bb0cc,_0x3bbb40(0x233)),'author':_0x31e362[_0x3bbb40(0x241)](_0x421581,_0x31e362[_0x3bbb40(0x235)])});return _0x594310;}else _0x31e362[_0x3bbb40(0x20e)](_0x406a55,_0x3da041[_0x3bbb40(0x266)](_0x29ecbf));}catch(_0x2393a5){return console[_0x3bbb40(0x229)](_0x31e362[_0x3bbb40(0x247)],_0x2393a5),null;}}const support={'ffmpeg':!![],'ffprobe':!![],'ffmpegWebp':!![],'convert':!![],'magick':![],'gm':![],'find':![]};function a14_0x1a09(_0x3e8c14,_0x50a45b){const _0x5d4f10=a14_0x1b6e();return a14_0x1a09=function(_0x4c4e02,_0x5f4042){_0x4c4e02=_0x4c4e02-0x1ee;let _0x1b6e39=_0x5d4f10[_0x4c4e02];return _0x1b6e39;},a14_0x1a09(_0x3e8c14,_0x50a45b);}module[a14_0x12aa2e(0x234)]={'sticker':sticker,'sticker2':sticker2,'sticker3':sticker3,'sticker4':sticker4,'sticker6':sticker6,'addExif':addExif,'support':support};